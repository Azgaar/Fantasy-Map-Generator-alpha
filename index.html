<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-116735150-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-116735150-1');
  </script>
  <title>Azgaar's Fantasy Map Generator</title>
  <meta name="application-name" content="Azgaar's Fantasy Map Generator">
  <meta name="author" content="Azgaar (Max Ganiev)">
  <meta name="description" content="Azgaar's Fantasy Map Generator and Editor">
  <meta name="google" content="notranslate">
  <meta property="og:url" content="https://azgaar.github.io/Fantasy-Map-Generator/">
  <meta property="og:title" content="Azgaar's Fantasy Map Generator">
  <meta property="og:description" content="Based on Voronoi diagram rendered to svg">
  <meta property="og:image" content="images/preview.png">
  <link rel="icon" type="image/png" href="images/favicon-32x32.png" sizes="32x32"/>
  <link rel="icon" type="image/png" href="images/favicon-16x16.png" sizes="16x16"/>
  <link rel="canonical" href="https://azgaar.github.io/Fantasy-Map-Generator/">

  <link rel="stylesheet" type="text/css" href="index.css?version=0.70.00a"/>
  <link rel="stylesheet" type="text/css" href="icons.css?version=0.70.00a"/>
  <link rel="stylesheet" type="text/css" href="libs/jquery-ui.css"/>  
</head>
<body>
  <svg id="map" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="100%" height="100%">
    <defs>
      <g id="filters">
        <filter id="blurFilter" x="-1" y="-1" width="100" height="100">
          <feGaussianBlur in="SourceGraphic" stdDeviation="0.2"/>
        </filter>
        <filter id="blur1" x="-1" y="-1" width="100" height="100">
          <feGaussianBlur in="SourceGraphic" stdDeviation="1"/>
        </filter>
        <filter id="blur5" x="-1" y="-1" width="100" height="100">
          <feGaussianBlur in="SourceGraphic" stdDeviation="5"/>
        </filter>
        <filter id="blur10" x="-1" y="-1" width="100" height="100">
          <feGaussianBlur in="SourceGraphic" stdDeviation="10"/>
        </filter>
        <filter id="splotch">
          <feTurbulence type="fractalNoise" baseFrequency=".01" numOctaves="4"/>
          <feColorMatrix values="0 0 0 0 0, 0 0 0 0 0, 0 0 0 0 0, 0 0 0 -0.9 1.2" result="texture"/>
          <feComposite in="SourceGraphic" in2="texture" operator="in"/>
        </filter>
        <filter id="bluredSplotch">
          <feTurbulence type="fractalNoise" baseFrequency=".01" numOctaves="4"/>
          <feColorMatrix values="0 0 0 0 0, 0 0 0 0 0, 0 0 0 0 0, 0 0 0 -0.9 1.2" result="texture"/>
          <feComposite in="SourceGraphic" in2="texture" operator="in"/>
          <feGaussianBlur stdDeviation="4"/>
        </filter>
        <filter id="dropShadow">
          <feGaussianBlur in="SourceAlpha" stdDeviation="2"/>
          <feOffset dx="1" dy="2"/>
          <feMerge>
              <feMergeNode/>
              <feMergeNode in="SourceGraphic"/>
          </feMerge>
        </filter>
        <filter id="dropShadow01">
          <feGaussianBlur in="SourceAlpha" stdDeviation=".1"/>
          <feOffset dx=".2" dy=".3"/>
          <feMerge>
              <feMergeNode/>
              <feMergeNode in="SourceGraphic"/>
          </feMerge>
        </filter>
        <filter id="dropShadow05">
          <feGaussianBlur in="SourceAlpha" stdDeviation=".5"/>
          <feOffset dx=".5" dy=".7"/>
          <feMerge>
              <feMergeNode/>
              <feMergeNode in="SourceGraphic"/>
          </feMerge>
        </filter>
        <filter id="outline">
          <feGaussianBlur in="SourceAlpha" stdDeviation="1"/>
          <feMerge>
              <feMergeNode/>
              <feMergeNode in="SourceGraphic"/>
          </feMerge>
        </filter>
        <filter id="pencil">
          <feTurbulence baseFrequency="0.03" numOctaves="6" type="fractalNoise"/>
          <feDisplacementMap scale="3" in="SourceGraphic" xChannelSelector="R" yChannelSelector="G"/>
        </filter>
        <filter id="turbulence">
          <feTurbulence baseFrequency="0.1" numOctaves="3" type="fractalNoise"/>
          <feDisplacementMap scale="10" in="SourceGraphic" xChannelSelector="R" yChannelSelector="G"/>
        </filter>
        <filter id="filter-grayscale">
          <feColorMatrix values="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"/>
        </filter>
        <filter id="filter-sepia">
          <feColorMatrix values="0.393 0.769 0.189 0 0 0.349 0.686 0.168 0 0 0.272 0.534 0.131 0 0 0 0 0 1 0"/>
        </filter>
        <filter id="filter-dingy">
          <feColorMatrix values="1 0 0 0 0 0 1 0 0 0 0 0.3 0.3 0 0 0 0 0 1 0"/>
        </filter>
        <filter id="filter-tint">
          <feColorMatrix values="1.1 0 0 0 0  0 1.1 0 0 0  0 0 0.9 0 0  0 0 0 1 0"/>
        </filter>
      </g>
      <g id="deftemp">
        <mask id="land"></mask>
        <mask id="water">
          <rect x="0" y="0" width="100%" height="100%" fill="white"></rect>
        </mask>
        <g id="textPaths"></g>
        <g id="statePaths"></g>
      </g>
      <g id="defs-icons">
        <symbol id="icon-anchor" viewBox="0 0 30 28">
          <title>Port</title>
          <path d="M15 4c0-0.547-0.453-1-1-1s-1 0.453-1 1 0.453 1 1 1 1-0.453 1-1zM28 18.5v5.5c0 0.203-0.125 0.391-0.313 0.469-0.063 0.016-0.125 0.031-0.187 0.031-0.125 0-0.25-0.047-0.359-0.141l-1.453-1.453c-2.453 2.953-6.859 4.844-11.688 4.844s-9.234-1.891-11.688-4.844l-1.453 1.453c-0.094 0.094-0.234 0.141-0.359 0.141-0.063 0-0.125-0.016-0.187-0.031-0.187-0.078-0.313-0.266-0.313-0.469v-5.5c0-0.281 0.219-0.5 0.5-0.5h5.5c0.203 0 0.391 0.125 0.469 0.313s0.031 0.391-0.109 0.547l-1.563 1.563c1.406 1.891 4.109 3.266 7.203 3.687v-10.109h-3c-0.547 0-1-0.453-1-1v-2c0-0.547 0.453-1 1-1h3v-2.547c-1.188-0.688-2-1.969-2-3.453 0-2.203 1.797-4 4-4s4 1.797 4 4c0 1.484-0.812 2.766-2 3.453v2.547h3c0.547 0 1 0.453 1 1v2c0 0.547-0.453 1-1 1h-3v10.109c3.094-0.422 5.797-1.797 7.203-3.687l-1.563-1.563c-0.141-0.156-0.187-0.359-0.109-0.547s0.266-0.313 0.469-0.313h5.5c0.281 0 0.5 0.219 0.5 0.5z"></path>
        </symbol>
      </g>
      <g id="defs-relief">
        <symbol id="relief-mount-1" viewBox="0 0 100 100">
          <path d="m3,69 16,-12 31,-32 15,20 30,24" fill="#fff" stroke="#5c5c70" stroke-width="1"></path>
          <path d="m3,69 16,-12 31,-32 -14,44" fill="#999999"></path>
          <path d="m3,71 h92 m-83,3 h83" stroke="#5c5c70" stroke-dasharray="7, 11" stroke-width="1"></path>
        </symbol>
        <symbol id="relief-hill-1" viewBox="0 0 100 100">
          <path d="m20,55 q30,-28 60,0" fill="#999999" stroke="#5c5c70"></path>
          <path d="m38,55 q13,-24 40,0" fill="#fff"></path>
          <path d="m20,58 h70 m-62,3 h50" stroke="#5c5c70" stroke-dasharray="7, 11" stroke-width="1"></path>
        </symbol>
        <symbol id="relief-deciduous-1" viewBox="0 0 100 100">
          <path d="m50,52 v7 h1 v-7 h-0.5 q13,-7 0,-16 q-13,9 0,16" fill="#fff" stroke="#5c5c70"></path>
          <path d="m50,52 q-12,-7 0,-16 q-3.5,10 0,15.5" fill="#999999"></path>
        </symbol>
        <symbol id="relief-conifer-1" viewBox="0 0 100 100">
          <path d="m50,55 v4 h1 v-4 l4.5,0 -4,-8 l3.5,0 -4.5,-9 -4,9 3,0 -3.5,8 7,0" fill="#fff" stroke="#5c5c70"></path>
          <path d="m46,55 l4,-8 -4,0 5,-9 -2.5,9 l1.5,0 -2,8" fill="#999999"></path>
        </symbol>
        <symbol id="relief-acacia-1" viewBox="0 0 100 100">
          <path d="m34.5 44.5 c 1.8, -3 8.1, -5.7 12.6, -5.4 6, -2.2 9.3, -0.9 11.9, 1.3 1.7, 0.2 3.2,-0.3 5.2, 2.2 2.7, 1.2 3.7, 2.4 2.7, 3.7 -1.6, 0.3 -2.2, 0 -4.7, -1.6 -5.2, 0.1 -7, 0.7 -8.7, -0.9 -2.8, 1 -3.6, 0 -9.7, 0.2 -4.6, 0 -8, 1.6 -9.3, 0.4 z" fill="#fff"></path>
          <path d="m52 38 c-2.3 -0.1 -4.3 1.1 -4.9 1.1 -2.2 -0.2 -5 0.2 -6.4 1 -1.3 0.7 -2.8 1.6 -3.7 2.1 -1 0.6 -3.4 1.8 -2.2 2.7 1.1 0.9 3.1 -0.2 4.2 0.3 1.4 0.8 2.9 1 4.5 0.9 1.1 -0.1 2.2 -0.4 2.4 1 0.3 1.9 1.1 3.5 2.1 5.1 0.8 2.4 1 2.8 1 6.8 l2 0 c 0 -1.1 -0.1 -4 1.2 -5.7 1.1 -1.4 1.4 -3.4 3 -4.4 0.9 -1.4 2 -2.6 3.8 -2.7 1.7 -0.3 3.8 0.8 5.1 0.3 0.9 -0.1 3.2 1 3.5 -1 0.1 -2 -2.2 -2.1 -3.2 -3.3 -1.1 -1.5 -3.3 -1.9 -4.9 -1.8 -1 -0.5 -2 -2.5 -7.3 -2.5 z m -0.5 0.4 c2.7338 -0.2 5.6 0.2 7.5 2.4 1.7 0 3.7 0 4.8 1.5 1 1.2 3.4 1.8 3.4 3 0 2.1 -3.2 0.5 -3.6 0.1 -1.3 -1.4 -2.9 -0.6 -4.5 -0.7 -1.6 -0.1 -3.2 0.4 -4.6 -0.6 -1.1 -0.7 -2.5 0.1 -3.8 -0.1 -1.8 -0.2 -4 -0.4 -5.9 -0.1 -1.4 0 -2.8 0.1 -4.2 0 -1.7 0.5 -5.5 1.1 -5.4 0.4 0.2 -1.1 4.5 -3.2 5.9 -3.9 1.9 -0.9 3.7 -1.1 6.2 -0.8 0.7 -0.2 1.7 -1.1 4.3 -1.3 z m2 6 c1.6 0.3 2 2.2 1.2 3.3 -1 1.3 -1 -1.3 -1.3 -2 -0.2 -0.5 -0.8 -1.3 0.1 -1.3 z m -12.9 0.2 c1 -0.1 3.5 -0.3 3.1 0.9 -1.4 0 -3.4 0.1 -4.4 -0.6 0.4 -0.2 0.9 -0.2 1.3 -0.3 z m5.6 -0.1 c0.8 0.1 3.1 -0.3 3 0.5 -1.3 0.6 -1.6 2.2 -2.1 3.1 -0.4 -1.2 -0.7 -2.7 -2.1 -3.2 -0.9 -0.6 1 -0.5 1.3 -0.4 z m5.3 0.3 c1.1 0.1 1.6 2.4 0.1 1.3 -1.6 -1.2 -0.6 -1.3 -0.1 -1.3 z m7.5 0.4 c1.2 0 3.3 -0.2 2.9 0.2 -1.4 1.2 -3 -0.3 -4.8 0.8 -0.9 0.5 -2 0.8 -1.1 -0.4 0.5 -0.6 1.3 -0.5 3 -0.6 z m -8.9 0.1 c0.7 1.2 2.1 1.5 2.9 2.1 0.9 1.6 -0.5 3.1 -1.3 4.5 -0.9 1.5 -1.9 2.2 -2.4 0.3 -0.1 -0.5 -1.8 -2.2 -1.2 -3.7 0.3 -1.3 0.6 -2.6 2 -3.2 z m12.5 0.1 c0.6 0.2 1.3 1.1 0.2 0.9 -1.4 -0.1 -1.4 -0.3 -0.2 -0.9 z" fill="#5c5c70"></path>
          <path d="m47 42.33 c2 0.1 4.1 0.5 6.1 -0.3 1.4 -0.3 2.6 0.8 3.6 1.6 0.7 0.4 2.5 0.7 2.7 1.2 -2.2 -0.1 -3.6 0.4 -4.8 -0.4 -1 -0.7 -2.2 -0.3 -3 -0.2 -0.9 0.1 -3 -0.4 -5.5 -0.2 -2.6 0.2 -5.1 -0.1 -7.2 0.5 -3.6 0.6 -3.7 0 -3.7 0 2.2 -2 9.1 -1.7 11.9 -2.2 z" fill="#999999"/>
        </symbol>
        <symbol id="relief-palm-1" viewBox="0 0 100 100">
          <path d="m 48.1,55.5 2.1,0 c 0,0 1.3,-5.5 1.2,-8.6 0,-3.2 -1.1,-5.5 -1.1,-5.5 l -0.5,-0.4 -0.2,0.1 c 0,0 0.9,2.7 0.5,6.2 -0.5,3.8 -2.1,8.2 -2.1,8.2 z" fill="#5c5c70"></path>
          <path d="m 54.9,48.8 c 0,0 1.9,-2.5 0.3,-5.4 -1.4,-2.6 -4.3,-3.2 -4.3,-3.2 0,0 1.6,-0.6 3.3,-0.3 1.7,0.3 4.1,2.5 4.1,2.5 0,0 -0.6,-3.6 -3.6,-4.4 -2.2,-0.6 -4.2,1.3 -4.2,1.3 0,0 0.3,-1.5 -0.2,-2.9 -0.6,-1.4 -2.6,-1.9 -2.6,-1.9 0,0 0.8,1.1 1.2,2.2 0.3,0.9 0.3,2 0.3,2 0,0 -1.3,-1.8 -3.7,-1.5 -2.5,0.2 -3.7,2.5 -3.7,2.5 0,0 2.3,-0.6 3.4,-0.6 1.1,0.1 2.6,0.8 2.6,0.8 l -0.4,0.2 c 0,0 -1.2,-0.4 -2.7,0.4 -1.9,1.1 -2.9,3.7 -2.9,3.7 0,0 1.4,-1.4 2.3,-1.9 0.5,-0.3 1.8,-0.7 1.8,-0.7 0,0 -0.7,1.3 -0.9,3.1 -0.1,2.5 1.1,4.6 1.1,4.6 0,0 0.1,-3.4 1.2,-5.6 1,-1.9 2.3,-2.6 2.3,-2.6 l 0.4,-0.2 c 0,0 1.5,0.7 2.8,2.8 1,1.7 2.3,5 2.3,5 z" fill="#fff" stroke="#5c5c70"  stroke-width=".6"></path>
          <path d="m 47.75,34.61 c 0,0 0.97,1.22 1.22,2.31 0.2,0.89 0.35,2.81 0.35,2.81 0,0 -1.59,-1.5 -3.2,-1.61 -1.82,-0.13 -3.97,1.31 -3.97,1.31 0,0 2.11,-0.49 3.34,-0.47 1.51,0.03 3.33,1.21 3.33,1.21 0,0 -1.7,0.83 -2.57,2.8 -0.88,1.97 -0.34,6.01 -0.34,6.01 0,0 0.04,-2.95 0.94,-4.96 0.8,-1.78 2.11,-2.67 2.44,-2.85 0.66,-0.34 0.49,-1.09 0.49,-1.09 0,0 -0.1,-2.18 -0.52,-3.37 -0.42,-1.21 -1.51,-2.11 -1.51,-2.11 z" fill="#999"></path>
          <path d="m 42,43.7 c 0,0 1.2,-1.1 1.8,-1.5 0.7,-0.4 2,-0.8 2,-0.8 L 46.5,40.5 c 0,0 -0.8,0 -2.3,0.8 -1.3,0.8 -2.2,2.3 -2.2,2.3 z" fill="#999"></path>
        </symbol>
        <symbol id="relief-grass-1" viewBox="0 0 100 100">
          <path d="m 49.5,53.1 c 0,-3.4 -2.4,-4.8 -3,-5.4 1,1.8 2.4,3.7 1.8,5.4 z M 51,53.2 C 51.4,49.6 49.6,47.9 48,46.8 c 1.1,1.8 2.8,4.6 1.8,6.5 z M 51.4,51.4 c 0.6,-1.9 1.8,-3.4 3,-4.3 -0.8,0.3 -2.9,1.5 -3.4,2.8 0.2,0.4 0.3,0.8 0.4,1.5 z M 52.9,53.2 c -0.7,-1.9 0.5,-3.3 1.5,-4.4 -1.7,1 -3,2.2 -2.7,4.4 z" fill="#5c5c70" stroke="none"></path>
        </symbol>
        <symbol id="relief-swamp-1" viewBox="0 0 100 100">
          <path d="m50,46 v6 l3,-4 m-3,4 l-3,-4 m-7,4.5 h4 m4,0 h4 m4,0 h4" fill="none" stroke="#5c5c70"></path>
        </symbol>
        <symbol id="relief-dune-1" viewBox="0 0 100 100">
          <path d="m 28.7,52.8 c 5,-3.9 10,-8.2 15.8,-8.3 4.5,0 10.8,3.8 15.2,6.5 3.5,2.2 6.8,2 6.8,2" fill="none" stroke="#5c5c70" stroke-width="1.8"></path>
          <path d="m 44.2,47.6 c -3.2,3.2 3.5,5.7 5.9,7.8" fill="none" stroke="#5c5c70"></path>
        </symbol>
      </g>

      <g id="defs-markers">
        <symbol id="marker0" viewBox="0 0 30 30">
          <path d="M6,19 l9,10 L24,19" fill="#000000" stroke="none"></path>
          <circle cx="15" cy="15" r="10" stroke-width="1" stroke="#000000" fill="#ffffff"></circle>
          <text x="50%" y="50%" fill="#000000" stroke-width="0" stroke="#3200ff" font-size="22px" dominant-baseline="central">?</text>
        </symbol>
      </g>

      <pattern id="oceanic" width="100" height="100" patternUnits="userSpaceOnUse">
        <filter id='image'>
          <feImage x="0" y="0" width="100" height="100" xlink:href="data:image/png;base64,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"/>
        </filter>
        <rect width='100' height='100' filter="url(#image)" opacity='0.2'/>
      </pattern>
      
      <pattern id="mottling" width="16" height="9" patternUnits="userSpaceOnUse">
        <filter id='turb'>
          <feTurbulence type='fractalNoise' baseFrequency='.7' numOctaves='10' stitchTiles='stitch'/>
        </filter>
        <rect width='16' height='9' filter="url(#turb)"/>
      </pattern>

      <g id="rose" stroke-width="1">
        <g id="sL" stroke="#3f3f3f">
          <line x1="0" y1="-10000000" x2="0" y2="10000000"/>
          <line x1="-10000000" y1="0" x2="10000000" y2="0"/>
        </g>
        <use xlink:href="#sL" transform="rotate(45)"/>
        <use xlink:href="#sL" transform="rotate(22.5)"/>
        <use xlink:href="#sL" transform="rotate(-22.5)"/>
        <use xlink:href="#sL" transform="rotate(11.25)"/>
        <use xlink:href="#sL" transform="rotate(-11.25)"/>
        <use xlink:href="#sL" transform="rotate(56.25)"/>
        <use xlink:href="#sL" transform="rotate(-56.25)"/>
        <g stroke-width="8">
          <circle r="9" stroke="#000000" fill="#1b1b1b"/>
          <circle r="75" stroke="#008000" fill="#ffffff" fill-opacity=".1"></circle>
          <circle r="212" stroke="#1b1b1b"></circle>
          <circle r="211" stroke="#008000" fill="#ffffff" fill-opacity=".1"></circle>
        </g>
        <g stroke="#1b1b1b">
          <circle r="71"/>
          <circle r="79"/>
          <circle r="94"/>
          <circle r="152"/>
          <circle r="164"/>
          <circle r="207"/>
         </g>
         <g id="s3">
           <g id="s2">
             <g id="s1" stroke="#1b1b1b">
              <path d="M 39.416,95.16 C 33.65,103.95 30.76,110.5 28.93,117.18 C 15.24,113.43 13.54,127.15 23.04,131 C 13.71,145.8 7.84,173.93 0,212 L 0,103 A 103,103 0 0,0 39.416,95.16 z" fill="#47a3d1"/>
              <path d="M 39.416,95.16 C 33.65,103.95 30.76,110.5 28.93,117.18 C 15.24,113.43 13.54,127.15 23.04,131 C 13.71,145.8 7.84,173.93 0,212 L 0,103 A 103,103 0 0,0 39.416,95.16 z" fill="black" transform="scale(-1,1)"/>
              <path d="M -31.995,160.849 A 164,164 0 0,0 31.995,160.849 C 18.9,170.1 8.4,176.3 0,207 C -8.4,176.3 -18.9,170.1 -31.995,160.849 z" fill="#c2390f" transform="rotate(22.5)"/>
            </g>
            <use xlink:href="#s1" transform="rotate(45)"/>
          </g>
          <use xlink:href="#s2" transform="rotate(90)"/>
         </g>
        <use xlink:href="#s3" transform="scale(-1)"/>
      </g>

      <marker id="arrow" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
        <path d="M 0 0 L 10 5 L 0 10 z" />
      </marker>

    </defs>
    <g id="viewbox"></g>
    <g id="scaleBar" onclick="editUnits()"></g>
    <g id="initial" opacity=1>
      <rect x="-1%" y="-1%" width="102%" height="102%" fill="#53679f"></rect>
      <rect x="-1%" y="-1%" width="102%" height="102%" fill="url(#oceanic)"></rect>
      <use xlink:href="#rose" id="init-rose" x="50%" y="50%"></use>
    </g>
  </svg>

  <div id="loading" style="opacity:1">
    <div id="title_name">Azgaar's</div>
    <div id="title">Fantasy Map Generator</div>
    <div id="version">v. 0.70a</div>
    <p id="loading-text">LOADING<span>.</span><span>.</span><span>.</span></p>
  </div>

  <div id="optionsContainer" style="opacity:0">

    <div id="collapsible">
      <button id="optionsTrigger" data-tip="Click to show options pane. Shortcut: Tab" class="options glow" onclick="showOptions(event)" style="padding:7px 5px">►</button>
      <button id="regenerate" data-tip="Click to generate a new map. Shortcut: F7" onclick="regeneratePrompt()" class="options" style="display:none; padding:7px 8px">New Map!</button>
    </div>

    <div id="options" style="display:none">
      <div class="drag-trigger" data-tip="Drag to move options pane"></div>

      <div class="tab">
        <button id="optionsHide" data-tip="Click to hide options pane. Shortcut: Tab to close this or Esc to close all dialogs" class="options" onclick="hideOptions(event)">◄</button>
        <button id="styleTab" data-tip="Click to open style menu" class="options active">Style</button>
        <button id="optionsTab" data-tip="Click to change generation and UI options" class="options">Options</button>
        <button id="toolsTab" data-tip="Click to open tools menu" class="options">Tools</button>
        <button id="aboutTab" data-tip="Click to see Generator info" class="options">About</button>
      </div>

      <div id="styleContent" class="tabcontent" style="display: block">
        <p data-tip="Select a map layers preset" style="display: inline-block;">Layers preset:</p>
        <select data-tip="Select a map layers preset" id="layersPreset" onchange="changePreset(this.value)" style="width:45%">
          <option value="political" selected>Political map</option>
          <option value="cultural">Cultural map</option>
          <option value="heightmap">Heightmap</option>
          <option value="biomes">Biomes map</option>
          <option value="landmass">Pure landmass</option>
          <option hidden value="custom">Custom</option>
        </select>

        <p data-tip="Click to toggle a layer, drag to raise or lower a layer">Displayed layers:</p>
        <ul data-tip="Click to toggle a layer, drag to raise or lower a layer" id="mapLayers">
          <li id="toggleTexture" data-tip="Texture overlay: click to toggle, drag to raise or lower the layer. Shortcut: X" class="buttonoff" onclick="toggleTexture()">Texture</li>
          <li id="toggleHeight" data-tip="Heightmap: click to toggle, drag to raise or lower the layer. Shortcut: H" class="buttonoff" onclick="toggleHeight()">Heightmap</li>
          <li id="toggleBiomes" data-tip="Biomes: click to toggle, drag to raise or lower the layer. Shortcut: B" class="buttonoff" onclick="toggleBiomes()">Biomes</li>
          <li id="toggleCells" data-tip="Cells structure: click to toggle, drag to raise or lower the layer. Shortcut: E" class="buttonoff" onclick="toggleCells()">Cells</li>
          <li id="toggleGrid" data-tip="Grid: click to toggle, drag to raise or lower. Select type in styles dropdown below. Shortcut: G" class="buttonoff" onclick="toggleGrid()">Grid</li>
          <li id="toggleCoordinates" data-tip="Coordinate grid: click to toggle, drag to raise or lower the layer. Shortcut: O" class="buttonoff" onclick="toggleCoordinates()">Coordinates</li>
          <li id="toggleCompass" data-tip="Compass (Wind) Rose: click to toggle, drag to raise or lower the layer. Shortcut: W" class="buttonoff" onclick="toggleCompass()">Compass Rose</li>
          <li id="toggleRivers" data-tip="Rivers: click to toggle, drag to raise or lower the layer. Shortcut: V" onclick="toggleRivers()">Rivers</li>
          <li id="toggleRelief" data-tip="Relief and biome icons: click to toggle, drag to raise or lower the layer. Shortcut: R" class="buttonoff" onclick="toggleRelief()">Relief</li>
          <li id="toggleCultures" data-tip="Cultures: click to toggle, drag to raise or lower the layer. Shortcut: C" class="buttonoff" onclick="toggleCultures()">Cultures</li>
          <li id="toggleStates" data-tip="States: click to toggle, drag to raise or lower the layer. Shortcut: S" onclick="toggleStates()">States</li>
          <li id="toggleBorders" data-tip="State borders: click to toggle, drag to raise or lower the layer. Shortcut: D" onclick="toggleBorders()">Borders</li>
          <li id="toggleRoutes"data-tip="Trade routes: click to toggle, drag to raise or lower the layer. Shortcut: U" onclick="toggleRoutes()">Routes</li>
          <li id="toggleTemp" data-tip="Temperature map: click to toggle, drag to raise or lower the layer. Shortcut: T" class="buttonoff" onclick="toggleTemp()">Temperature</li>
          <li id="togglePopulation" data-tip="Population map: click to toggle, drag to raise or lower the layer. Shortcut: P" class="buttonoff" onclick="togglePopulation()">Population</li>
          <li id="togglePrec" data-tip="Precipitation map: click to toggle, drag to raise or lower the layer. Shortcut: A" class="buttonoff" onclick="togglePrec()">Precipitation</li>
          <li id="toggleLabels" data-tip="Labels: click to toggle, drag to raise or lower the layer. Shortcut: L" onclick="toggleLabels()">Labels</li>
          <li id="toggleIcons" data-tip="Burg icons: click to toggle, drag to raise or lower the layer. Shortcut: I" onclick="toggleIcons()">Icons</li>
          <li id="toggleMarkers" data-tip="Markers: click to toggle, drag to raise or lower the layer. Shortcut: M" onclick="toggleMarkers()">Markers</li>
          <li id="toggleRulers" data-tip="Rulers: click to toggle, drag to move, click on label to delete. Shortcut: = (equal)" class="buttonoff" onclick="toggleRulers()">Rulers</li>
          <li id="toggleScaleBar" data-tip="Scale Bar: click to toggle, drag to move. Shortcut: - (minus)" onclick="toggleScaleBar()" class="solid">Scale Bar</li>
        </ul>

        <p data-tip="Select an element to edit its style" style="display: inline-block;">Select element:</p>
        <select data-tip="Select an element to edit its style (list is ordered alphabetically)" id="styleElementSelect" style="width:42%">
          <option value="anchors">Anchor Icons</option>
          <option value="biomes">Biomes</option>
          <option value="borders">Borders</option>
          <option value="burgIcons">Burg Icons</option>
          <option value="cells">Cells</option>
          <option value="coastline">Coastline</option>
          <option value="compass">Compass</option>
          <option value="coordinates">Coordinates</option>
          <option value="cults">Cultures</option>
          <option value="gridOverlay">Grid</option>
          <option value="terrs">Heightmap</option>
          <option value="labels">Labels</option>
          <option value="lakes">Lakes</option>
          <option value="landmass">Landmass</option>
          <option value="markers">Markers</option>
          <option value="ocean">Ocean</option>
          <option value="population">Population</option>
          <option value="prec">Precipitation</option>
          <option value="terrain">Relief Icons</option>
          <option value="rivers">Rivers</option>
          <option value="routes">Routes</option>
          <option value="ruler">Rulers</option>
          <option value="regions" selected>States</option>
          <option value="temperature">Temperature</option>
          <option value="texture">Texture</option>
        </select>
        <button id="restoreStyle" data-tip="Click to restore default style for all elements" class="icon-ccw styleButton" onclick="askToRestoreDefaultStyle()"></button>

        <table id="styleElements">
          <caption id="styleIsOff" data-tip="The selected layer is not visible. See the buttons above to toggle it on">Please ensure the element is toggled on!</caption>      

          <tbody id="styleGroup">
            <tr data-tip="Select element group">
              <td>Group</td>
              <td>
                <select id="styleGroupSelect"><option value="regions">regions</option></select>
              </td>
            </tr>
          </tbody>

          <tbody id="styleOpacity" style="display: block">
            <tr data-tip="Set opacity. 0: transparent, 1: solid">
              <td>Opacity</td>
              <td>
                <input id="styleOpacityInput" type="range" min="0" max="1" step="0.01" value=".4">
                <output id="styleOpacityOutput">0.4</output>
              </td>
            </tr>
          </tbody>

          <tbody id="stylePopulation">
            <tr data-tip="Set bar color for rural population">
              <td>Rural color</td>
              <td>
                <input id="stylePopulationRuralStrokeInput" type="color" value="#0000ff"/>
                <output id="stylePopulationRuralStrokeOutput">#0000ff</output>
              </td>
            </tr>
            
            <tr data-tip="Set bar color for urban population">
              <td>Urban color</td>
              <td>
                <input id="stylePopulationUrbanStrokeInput" type="color" value="#ff0000"/>
                <output id="stylePopulationUrbanStrokeOutput">#ff0000</output>
              </td>
            </tr>            
          </tbody>

          <tbody id="styleTexture">
            <tr data-tip="Select texture image. Big textures can highly affect performance">
              <td>Image</td>
              <td>
                <select id="styleTextureInput">
                  <option value="">None</option>
                  <option value="images/textures/marble-small.jpg" selected>Marble small</option>
                  <option value="images/textures/marble-big.jpg">Marble big</option>
                  <option value="images/textures/marble-blue-small.jpg">Marble Blue</option>
                  <option value="images/textures/marble-blue-big.jpg">Marble Blue big</option>
                  <option value="images/textures/stone-small.jpg">Stone small</option>
                  <option value="images/textures/stone-big.jpg">Stone big</option>
                  <option value="images/textures/timbercut-small.jpg">Timber Cut small</option>
                  <option value="images/textures/timbercut-big.jpg">Timber Cut big</option>
                  <option value="images/textures/antique-small.jpg">Antique small</option>
                  <option value="images/textures/antique-big.jpg">Antique big</option>
                  <option value="images/textures/pergamena-small.jpg">Pergamena small</option>
                  <option value="images/textures/mars-small.jpg">Mars small</option>
                  <option value="images/textures/mars-big.jpg">Mars big</option>
                  <option value="images/textures/mercury-small.jpg">Mercury small</option>
                  <option value="images/textures/mercury-big.jpg">Mercury big</option>
                  <option value="images/textures/mauritania-small.jpg">Mauritania small</option>
                  <option value="images/textures/iran-small.jpg">Iran small</option>
                  <option value="images/textures/spain-small.jpg">Spain small</option>
                </select>
                <button data-tip="Click and provide a URL to image to be set as a texture" class="icon-plus styleButton" onclick="textureProvideURL()"></button>
              </td>
            </tr>
            
            <tr data-tip="Shift the texture by axes">
              <td>Shift by axes</td>
              <td>
                <input id="styleTextureShiftX" type="number" value=0 data-tip="Shift texture by x axis in pixels">
                <input id="styleTextureShiftY" type="number" value=0 data-tip="Shift texture by y axis in pixels">
              </td>
            </tr>

          </tbody>

          <tbody id="styleOcean">
            <tr data-tip="Toggle ocean pattern visibility">
              <td>Pattern</td>
              <td>
                <input id="styleOceanPattern" class="checkbox" type="checkbox" checked>
                <label for="styleOceanPattern" class="checkbox-label"></label>
              </td>
            </tr>
          
            <tr data-tip="Define the coast outline contours scheme">
              <td>Ocean layers</td>
              <td>
                <select id="outlineLayersInput">
                  <option value="none">No outline</option>
                  <option value="random">Random</option>
                  <option value="-6,-3,-1" selected>Standard 3</option>
                  <option value="-6,-4,-2">Indented 3</option>
                  <option value="-9,-6,-3,-1">Standard 4</option>
                  <option value="-6,-5,-4,-3,-2,-1">Smooth 6</option>
                  <option value="-9,-8,-7,-6,-5,-4,-3,-2,-1">Smooth 9</option>
                </select>
              </td>
            </tr>
            
            <tr data-tip="Set background color. Not visible if opacity is 1">
              <td>Background</td>
              <td>
                <input id="styleOceanBack" type="color" value="#000000"/>
                <output id="styleOceanBackOutput">#000000</output>
              </td>
            </tr>

            <tr data-tip="Set foreground color. Visible if opacity > 0">
              <td>Foreground</td>
              <td>
                <input id="styleOceanFore" type="color" value="#53679f"/>
                <output id="styleOceanForeOutput">#53679f</output>
              </td>
            </tr> 
            
          </tbody>
          
          <tbody id="styleGrid">
            <tr data-tip="Select grid overlay type">
              <td>Type</td>
              <td>
                <select id="styleGridType">
                  <option value="pointyHex">Hex grid (pointy)</option>
                  <option value="flatHex">Hex grid (flat)</option>
                  <option value="square">Square grid</option>
                </select>
              </td>
            </tr>
            
            <tr data-tip="Set grid cells spacing (size)">
              <td>Size</td>
              <td>
                <input id="styleGridSize" type="range" min=2 max=50 step=.1 value=10 style="width:42%">
                <output id="styleGridSizeOutput" data-tip="Grid cells spacing in pixels">10</output>
                <output id="styleGridSizeFriendly" data-tip="Distance between two adjacent cells in map scale">(52 mi)</output>
              </td>
            </tr>
          </tbody>

          <tbody id="styleShift">
            <tr data-tip="Shift the element by axes">
              <td>Shift by axes</td>
              <td>
                <input id="styleShiftX" type="number" value=0 data-tip="Shift by x axis in pixels">
                <input id="styleShiftY" type="number" value=0 data-tip="Shift by y axis in pixels">
              </td>
            </tr>
          </tbody>

          <tbody id="styleCompass">
            <tr data-tip="Set compass rose size">
              <td>Size</td>
              <td>
                <input id="styleCompassSizeInput" type="range" min=.02 max=1 step=.01 value=.25>
                <output id="styleCompassSizeOutput">.25</output>
              </td>
            </tr>
            
            <tr data-tip="Shift compass rose by axes">
              <td>Shift by axes</td>
              <td>
                <input id="styleCompassShiftX" type="number" value=0 data-tip="Shift by x axis in pixels">
                <input id="styleCompassShiftY" type="number" value=0 data-tip="Shift by y axis in pixels">
              </td>
            </tr>
          </tbody>
          
          <tbody id="styleRelief">
            <tr data-tip="Define the size of relief icons">
              <td>Size</td>
              <td>
                <input id="styleReliefSizeInput" data-stored="reliefSize" type="range" min=.2 max=3 step=.01 value=1>
                <output id="styleReliefSizeOutput">1</output>
              </td>
            </tr>
            
            <tr data-tip="Define the density of relief icons. Highly affects performance!">
              <td>Density</td>
              <td>
                <input id="styleReliefDensityInput" data-stored="reliefDensity" type="range" min=.3 max=1 step=.01 value=.4>
                <output id="styleReliefDensityOutput">40%</output>
              </td>
            </tr>
          </tbody>
         
          <tbody id="styleFill">
            <tr data-tip="Set fill color">
              <td>Fill</td>
              <td>
                <input id="styleFillInput" type="color" value="#5E4FA2"/>
                <output id="styleFillOutput">#5E4FA2</output>
              </td>
            </tr>
          </tbody>
          
          <tbody id="styleStroke">
            <tr data-tip="Set stroke color">
              <td>Stroke</td>
              <td>
                <input id="styleStrokeInput" type="color" value="#5E4FA2"/>
                <output id="styleStrokeOutput">#5E4FA2</output>
              </td>
            </tr>
          </tbody>

          <tbody id="styleStrokeWidth">
            <tr data-tip="Set stroke width">
              <td>Stroke width</td>
              <td>
                <input id="styleStrokeWidthInput" type="range" min=0 max=3 step=.01 value=1>
                <output id="styleStrokeWidthOutput">1</output>
              </td>
            </tr>
          </tbody>

          <tbody id="styleStrokeDash">
            <tr data-tip="Set stroke dash array (e.g. 5 2) and linecap">
              <td>Stroke dash</td>
              <td>
                <input id="styleStrokeDasharrayInput" type="text" value="1 2" style="width:26%">
                <select id="styleStrokeLinecapInput" style="width:32%">
                  <option value="inherit" selected>Inherit</option>
                  <option value="butt">Butt</option>
                  <option value="round">Round</option>
                  <option value="square">Square</option>
                </select>
              </td>
            </tr>
          </tbody>

          <tbody id="styleFont">
            <tr data-tip="Select font">
              <td>Font</td>
              <td>
                <select id="styleSelectFont"></select>
                <input id="styleInputFont" data-tip="Provide a link to @font-face declaration or type Google font name" type="text" placeholder="link to @font-face">
                <button id="styleFontAdd" data-tip="Add custom font from the web" class="icon-plus styleButton"></button>
              </td>
            </tr>
          </tbody>

          <tbody id="styleSize">
            <tr data-tip="Set font size">
              <td>Font size</td>
              <td>
                <button id="styleFontPlus" data-tip="Multiply font size by 1.1" class="whiteButton">+</button>
                <button id="styleFontMinus" data-tip="Multiply font size by 0.9" class="whiteButton" >-</button>
                <input id="styleFontSize" type="number" min=.5 max=100 step=.1 value=14>
              </td>
            </tr>
          </tbody>

          <tbody id="styleRadius">
            <tr data-tip="Set icon size">
              <td>Radius</td>
              <td>
                <button id="styleRadiusPlus" data-tip="Multiply radius by 1.1" class="whiteButton">+</button>
                <button id="styleRadiusMinus" data-tip="Multiply radius by 1.1" class="whiteButton">-</button>
                <input id="styleRadiusInput" type="number" min=.2 max=10 step=.02 value=1>
              </td>
            </tr>
          </tbody>

          <tbody id="styleIconSize">
            <tr data-tip="Set icon size">
              <td>Size</td>
              <td>
                <button id="styleIconSizePlus" data-tip="Multiply size by 1.1" class="whiteButton">+</button>
                <button id="styleIconSizeMinus" data-tip="Multiply size by 1.1" class="whiteButton">-</button>
                <input id="styleIconSizeInput" type="number" min=.2 max=10 step=.02 value=1>
              </td>
            </tr>
          </tbody>

          <tbody id="styleCoastline">
            <tr data-tip="">
              <td colspan=2>
                <input id="styleCoastlineAuto" class="checkbox" type="checkbox" checked onchange="$('#styleFilter').toggle();">
                <label for="styleCoastlineAuto" data-tip="Allow system to apply filter automatically based on zoom level" class="checkbox-label">Automatically change filter on zoom</label>
              </td>
            </tr>
          </tbody>
        
          <tbody id="styleTemperature">
            <tr data-tip="Define transparency of temparature leyer. Set to 0 to make it fully transparent">
              <td>Fill opacity</td>
              <td>
                <input id="styleTemperatureFillOpacityInput" type="range" min=0 max=1 step=.01 value=.3/>
                <output id="styleTemperatureFillOpacityOutput">0.3</output>
              </td>
            </tr>
            
            <tr data-tip="Set labels size">
              <td>Labels size</td>
              <td>
                <input id="styleTemperatureFontSizeInput" type="range" min=0 max=30 value=8/>
                <output id="styleTemperatureFontSizeOutput">8</output>
              </td>
            </tr>

            <tr data-tip="Set labels color">
              <td>Labels color</td>
              <td>
                <input id="styleTemperatureFillInput" type="color"/>
                <output id="styleTemperatureFillOutput">#000</output>
              </td>
            </tr>              
          </tbody>
          
          <tbody id="styleHeightmap">
            <tr data-tip="Select color scheme for the element">
              <td>Color scheme</td>
              <td>
                <select id="styleHeightmapSchemeInput" onchange="drawHeightmap()">
                  <option value="bright" selected>Bright</option>
                  <option value="light">Light</option>
                  <option value="green">Green</option>
                  <option value="monochrome">Monochrome</option>
                </select>
              </td>
            </tr>

            <tr data-tip="Terracing rate. Set to 0 (toggle off) to improve performance">
              <td>Terracing</td>
              <td>
                <input id="styleHeightmapTerracingInput" type="range" min=0 max=20 step=1 value=0 oninput="styleHeightmapTerracingOutput.value = this.value; drawHeightmap()">
                <output id="styleHeightmapTerracingOutput">0</output>
              </td>
            </tr>
            <tr data-tip="Layers reduction rate. Increase to improve performance">
              <td>Reduce layers</td>
              <td>
                <input id="styleHeightmapSkipInput" type="range" min=0 max=10 step=1 value=5 oninput="styleHeightmapSkipOutput.value = this.value; drawHeightmap()">
                <output id="styleHeightmapSkipOutput">5</output>
              </td>
            </tr>
            
            <tr data-tip="Line simplification rate. Increase to slightly improve performance">
              <td>Simplify line</td>
              <td>
                <input id="styleHeightmapSimplificationInput" type="range" min=0 max=10 step=1 value=0 oninput="styleHeightmapSimplificationOutput.value = this.value; drawHeightmap()">
                <output id="styleHeightmapSimplificationOutput">0</output>
              </td>
            </tr>

            <tr data-tip="Select line interpolation type">
              <td>Line style</td>
              <td>
                <select id="styleHeightmapCurveInput" onchange="drawHeightmap()">
                  <option value=0 selected>Curved</option>
                  <option value=1>Linear</option>
                  <option value=2>Rectangular</option>
                </select>
              </td>
            </tr>              
          </tbody>     
          
          <tbody id="styleFilter" style="display: block">
            <tr data-tip="Select filter for element. Please note filters may cause performance issues!">
              <td>Filter</td>
              <td>
                <select id="styleFilterInput">
                  <option value="" selected>None</option>
                  <option value="url(#blurFilter)">Blur 0.2</option>
                  <option value="url(#blur1)">Blur 1</option>
                  <option value="url(#blur5)">Blur 5</option>
                  <option value="url(#blur10)">Blur 10</option>
                  <option value="url(#splotch)">Splotch</option>
                  <option value="url(#bluredSplotch)">Blured Splotch</option>
                  <option value="url(#dropShadow01)">Shadow 0.1</option>
                  <option value="url(#dropShadow05)">Shadow 0.5</option>
                  <option value="url(#dropShadow)">Shadow 2</option>
                  <option value="url(#outline)">Outline</option>
                  <option value="url(#pencil)">Pencil</option>
                  <option value="url(#turbulence)">Turbulence</option>
                </select>
              </td>
            </tr>
          </tbody>

          <tbody id="styleClipping">
            <tr data-tip="Set clipping. Only non-clipped part will be visible">
              <td>Clipping</td>
              <td>
                <select id="styleClippingInput">
                  <option value="" selected>No clipping</option>
                  <option value="url(#land)">Clip water</option>
                  <option value="url(#water)">Clip land</option>
                </select>
              </td>
            </tr>
          </tbody> 

          <tbody id="styleVisibility">
            <tr data-tip="Define displayed label groups">
              <td colspan=2>
                <input id="hideLabels" class="checkbox" type="checkbox" onchange="invokeActiveZooming()" checked>
                <label for="hideLabels" data-tip="Allow system to hide labels if their size in too small or too big on that scale" class="checkbox-label">Toggle visibility automatically</label>
              </td>
            </tr>
          </tbody>
        </table>

        <div id="mapFilters" data-tip="Set a filter to be applied to the map in general">
          <p>Toggle filters:</p>
          <button id="grayscale" class="radio">Grayscale</button>
          <button id="sepia" class="radio">Sepia</button>
          <button id="dingy" class="radio">Dingy</button>
          <button id="tint" class="radio">Tint</button>
        </div>

      </div>

      <div id="optionsContent" class="tabcontent">
        <p data-tip="Map generation settings. Generate a new map to apply the settings">Map Generation (new map to apply):</p>
        <table>

          <tr data-tip="Map height and width in pixels. Please consider reducing map size in case of performance issues">
            <td></td>
            <td>Map size</td>
            <td>
              <span data-tip="Map width in pixels">width</span>
              <input data-tip="Map width in pixels" id="mapWidthInput" class="paired" type="number" min=240 value=960>
              <span data-tip="Map height in pixels">height</span>
              <input data-tip="Map height in pixels" id="mapHeightInput" class="paired" type="number" min=135 value=540>
            </td>
            <td>
              <i data-tip="Toggle between screen size and initial map size" id="toggleFullscreen" class="icon-resize-full-alt"></i>
            </td>
          </tr>

          <tr data-tip="Map seed number. Seed produces the same map only if map size and options are the same">
            <td>
              <i data-tip="Click to generate a map for this seed" id="optionsSeedGenerate"></i>
            </td>
            <td>Map seed</td>
            <td>
              <input id="optionsSeed" class="long" type="number" min=1 max=999999999 step=1>
            </td>
            <td>
              <i data-tip="Show seed history to apply a previous seed" id="optionsMapHistory" class="icon-history"></i>
            </td>
          </tr> 

          <tr data-tip="Cells density controls underlying graph size and hightly affects performance">
            <td></td>
            <td>Cells density</td>
            <td>
              <input id="densityInput" type="range" min=1 max=3 value=1>
            </td>
            <td>
              <input id="densityOutput" type="number" min=1 max=3 value=1>
            </td>
          </tr>

          <tr data-tip="Select template to be used for a Heightmap generation">
            <td>
              <i data-locked=0 id="lock_template" class="icon-lock-open"></i>
            </td>
            <td>Map template</td>
            <td>
              <select id="templateInput" data-stored="template">
                <option value="Volcano">Volcano</option>
                <option value="High Island">High Island</option>
                <option value="Low Island">Low Island</option>
                <option value="Continents">Continents</option>
                <option value="Archipelago">Archipelago</option>
                <option value="Atoll">Atoll</option>
                <option value="Mediterranean">Mediterranean</option>
                <option value="Peninsula">Peninsula</option>
                <option value="Pangea">Pangea</option>
              </select>
            </td>
            <td></td>
          </tr>

          <tr data-tip="Define how many Cultures should be generated">
            <td>
              <i data-locked=0 id="lock_cultures" class="icon-lock-open"></i>
            </td>
            <td>Cultures number</td>
            <td>
              <input id="culturesInput" data-stored="cultures" type="range" min=1 max=30 value=14>
            </td>
            <td>
              <input id="culturesOutput" data-stored="cultures" type="number" min=1 max=30 value=14>
            </td>
          </tr>
          
          <tr data-tip="Define how many States should be generated">
            <td>
              <i data-locked=0 id="lock_regions" class="icon-lock-open"></i>
            </td>
            <td>States number</td>
            <td>
              <input id="regionsInput" data-stored="regions" type="range" min=0 max=99 value=13>
            </td>
            <td>
              <input id="regionsOutput" data-stored="regions" type="number" min=0 max=99 value=13>
            </td>
          </tr>

          <tr data-tip="Define how much states and cultures size can vary. Defines expansionism value">
            <td>
              <i data-locked=0 id="lock_power" class="icon-lock-open"></i>
            </td>
            <td>Size variety</td>
            <td>
              <input id="powerInput" data-stored="power" type="range" min=0 max=10 step=.2 value=5>
            </td>
            <td>
              <input id="powerOutput" data-stored="power" type="number" min=0 max=10 step=.2 value=5>
            </td>
          </tr>

          <tr data-tip="Define state and cultures growth rate. Defines how many lands will stay neutral">
            <td>
              <i data-locked=0 id="lock_neutral" class="icon-lock-open"></i>
            </td>
            <td>Growth rate</td>
            <td>
              <input id="neutralInput" data-stored="neutral" type="range" min=.1 max=2 step=.1 value=1>
            </td>
            <td>
              <input id="neutralOutput" data-stored="neutral" type="number" min=.1 max=2 step=.1 value=1>
            </td>
          </tr>

          <tr data-tip="Define how densely settled areas (burgs) should be placed">
            <td>
              <i data-locked=0 id="lock_manors" class="icon-lock-open"></i>
            </td>
            <td>Burgs density</td>
            <td>
              <input id="manorsInput" data-stored="manors" type="range" min=0.1 max=5 step=.1 value=1>
            </td>
            <td>
              <input id="manorsOutput" data-stored="manors" type="number" min=0.1 max=5 step=.1 value=1>
            </td>
          </tr>

        </table>

        <p data-tip="Interface settings taht don't affect generation. Getting applied immediately on change">User Interface:</p>
        <table>
          <tr data-tip="Set user interface size">
            <td></td>
            <td>Interface size</td>
            <td>
              <input id="uiSizeInput" data-stored="uiSize" type="range" min=.6 max=1.4 step=.1 value=1>
            </td>
            <td>
              <input id="uiSizeOutput" data-stored="uiSize" type="number" min=.6 max=1.4 step=.1 value=1>
            </td>
          </tr>

          <tr data-tip="Set tooltips size">
            <td></td>
            <td>Tooltips size</td>
            <td>
              <input id="tooltipSizeInput" data-stored="tooltipSize" type="range" min=4 max=24 value=12>
            </td>
            <td>
              <input id="tooltipSizeOutput" data-stored="tooltipSize" type="number" min=4 max=24 value=12>
            </td>
          </tr>

          <tr data-tip="Set dialog and tool windows transparency">
            <td></td>
            <td>Transparency</td>
            <td>
              <input id="transparencyInput" data-stored="transparency" type="range" min=0 max=100 value=0>
            </td>
            <td>
              <input id="transparencyOutput" data-stored="transparency" type="number" min=0 max=100 value=0>
            </td>
          </tr>

          <tr data-tip="Define relative size of a saved png images. Consider saving big images is slow and may cause browser crash">
            <td></td>
            <td>PNG resolution</td>
            <td>
              <input id="pngResolutionInput" data-stored="pngResolution" type="range" min=1 max=8 value=5>
            </td>
            <td>
              <input id="pngResolutionOutput" data-stored="pngResolution" type="number" min=1 max=8 value=5>
            </td>
          </tr>

          <tr data-tip="Set minimum and maximum possible zoom level">
            <td></td>
            <td>Zoom extent</td>
            <td>
              <span data-tip="Mimimal possible zoom level">min</span>
              <input data-tip="Mimimal possible zoom level" id="zoomExtentMin" class="paired" type="number" min=.2 step=.1 max=20 value=1>
              <span data-tip="Maximal possible zoom level">max</span>
              <input data-tip="Maximal possible zoom level" id="zoomExtentMax" class="paired" type="number" min=1 max=50 value=20>
            </td>
            <td>
              <i data-tip="Restore default [1, 20] zoom extent" id="zoomExtentDefault" class="icon-ccw"></i>
            </td>
          </tr>

        </table>

        <button id="configureWorld" data-tip="Click to open world configurator to setup position on globe and world climate" onclick="editWorld()">Configure World</button>
        
        <button id="optionsReset" data-tip="Click to restore default options (page will be reloaded)" onclick="restoreDefaultOptions()">Reset to defaults</button>

      </div>

      <div id="toolsContent" class="tabcontent">
        <div id="openEditor">
          <p>Click to configure:</p>
          <button id="editHeightmapButton" data-tip="Click to open Heightmap customization menu">Heightmap</button>
          <button id="editBiomesButton" data-tip="Click to open Biomes Editor">Biomes</button>
          <button id="editStatesButton" data-tip="Click to open States Editor">States</button>
          <button id="editCulturesButton" data-tip="Click to open Cultures Editor">Cultures</button>
          <button id="editNamesBaseButton" data-tip="Click to open Namesbase Editor">Namesbase</button>
          <button id="editBurgsButton" data-tip="Click to open Burgs Editor">Burgs</button>
          <button id="editUnitsButton" data-tip="Click to open Units Editor">Units</button>  
        </div>

        <div id="regenerateFeature">
          <p>Click to regenerate:</p>
          <button id="regenerateStateLabels" data-tip="Click to update state labels placement based on current borders">State labels</button>
          <button id="regenerateReliefIcons" data-tip="Click to regenerate all relief icons based on current cell biome and elevation">Relief icons</button>
          <button id="regenerateRoutes" data-tip="Click to regenerate all routes">Routes</button>
          <button id="regenerateRivers" data-tip="Click to regenerate all rivers">Rivers</button>
          <button id="regeneratePopulation" data-tip="Click to recalculate rural and urban population">Population</button>
        </div>

        <div id="addFeature">
          <p>Click to add:</p>
          <button id="addBurgTool" data-tip="Click on map to place a burg. Hold Shift to add multiple">Burg</button>
          <button id="addLabel" data-tip="Click on map to place label. Hold Shift to add multiple">Label</button>
          <button id="addRiver" data-tip="Click on map to place a river. Hold Shift to add multiple">River</button>
          <button id="addRoute" data-tip="Click on map to place a route">Route</button>
          <button id="addMarker" data-tip="Click on map to place a marker. Hold Shift to add multiple">Marker</button>
        </div>

        <p>Cell info: <i data-tip="Click to toggle the section" class="collapsible icon-down-open pointer"></i></p>
        <div id="cellInfo" style="display: none">
          <div>
            Coord: <span id="infoX">0</span>/<span id="infoY">0</span><br>
            Cell: <span id="infoCell">0</span><br>
            Area: <span id="infoArea">0</span><br>
          </div>
          <div>
            Type: <span id="infoFeature">n/a</span><br>
            Precip: <span id="infoPrec">0</span><br>
            Population: <span id="infoPopulation">0</span>            
          </div>
          <div>
            Height: <span id="infoHeight">0</span><br>
            Temperature: <span id="infoTemp">0</span><br>
            Biome: <span id="infoBiome">n/a</span><br>
            State: <span id="infoState">n/a</span><br>
            Culture: <span id="infoCulture">n/a</span><br>
            Burg: <span id="infoBurg">n/a</span>
          </div>
        </div>
      </div>

      <div id="customizationMenu" class="tabcontent">
        <p>Heightmap customization tools:</p>
        <div id="customizeTools">
          <button data-tip="Display brushes panel" id="paintBrushes">Paint Brushes</button>
          <button data-tip="Open template editor" id="applyTemplate" style="display: none">Template Editor</button>
          <button data-tip="Open Image Converter" id="convertImage" style="display: none">Image Converter</button>
          <button data-tip="Render heightmap data as a small monochrome image" id="heightmapPreview">Heightmap Preview</button>
          <button data-tip="Render heightmap in perspective" id="perspectiveView">Perspective View</button>
        </div>

        <div id="customizeOptions">
          <p>Options:</p>
          <div data-tip="Heightmap edit mode">Edit mode: <span id="heightmapEditMode"></span></div>
          <div data-tip="Render cells below the sea level (with height less than 20)">
            <input id="renderOcean" class="checkbox" type="checkbox">
            <label for="renderOcean" class="checkbox-label">Render ocean cells</label>
          </div>
          <div data-tip="Allow system to change custom heights on edit completion if reasonable">
            <input id="changeHeights" class="checkbox" type="checkbox" checked>
            <label for="changeHeights" class="checkbox-label">Allow to change heights on completion</label>
          </div>
        </div>

        <div>
          <p>Statistics:</p>
          <span>Land cells: </span><span id="landmassCounter">0</span>
          <span style="margin-left:8px">Mean height: </span><span id="landmassAverage">0</span>
        </div>

        <div>
          <p>Cell info:</p>
          <span>Coord: </span><span id="heightmapInfoX"></span>/<span id="heightmapInfoY"></span>
          <span style="margin-left:8px">Cell: </span><span id="heightmapInfoCell"></span>
          <span style="margin-left:8px">Height: </span><span id="heightmapInfoHeight"></span>
        </div>

        <button data-tip="Finalize the heightmap and exit the edit mode" id="finalizeHeightmap" class="glow">Exit Customization</button>
      </div>

      <div id="aboutContent" class="tabcontent">
        <p><a href="https://github.com/Azgaar/Fantasy-Map-Generator" target="_blank">Fantasy Map Generator</a> is a free <a href="https://github.com/Azgaar/Fantasy-Map-Generator/blob/master/LICENSE" target="_blank">open source</a> tool which procedurally generates fantasy maps. You may use auto-generated maps as they are, edit them or even create a new map from scratch. Check out the <a href="https://github.com/Azgaar/Fantasy-Map-Generator/wiki/Quick-Start-Tutorial" target="_blank">quick start tutorial</a> and <a href="https://github.com/Azgaar/Fantasy-Map-Generator/wiki" target="_blank">project wiki</a> for guidance.</p>
        <p>Join our <a href="https://www.reddit.com/r/FantasyMapGenerator/" target="_blank">Reddit Community</a> if you have questions, need help, have a suggestion or want to share a created map. You may support the project on <a href='https://www.patreon.com/azgaar' target='_blank'>Patreon</a>.</p>
        <p>The project is under active development. For older versions see the <a href="https://github.com/Azgaar/Fantasy-Map-Generator/wiki/Changelog" target="_blank">changelog</a>. To track the development progress see the <a href="https://trello.com/b/7x832DG4/fantasy-map-generator" target="_blank">devboard</a>. Please report bugs <a href="https://github.com/Azgaar/Fantasy-Map-Generator/issues" target="_blank">here</a>. You can also contact me directly via <a href="mailto:maxganiev@yandex.ru" target="_blank">email</a>.</p>
        <p>A special thanks to all supporters! <i data-tip="Click to see supporters names" class="collapsible icon-down-open pointer"></i></p>
        <p style="display:none">Supporters: David Patterson, es, Fondue Daredevil, Luke Wiltshire, Paavi1, Wil Sisney, William Merriott, aymeric, Massimo Vella, Jonathan Moore, Ahmad Amerih, cyninge, Aaron Meyer, Fritjof Olsson, Duncan Thomson, Xariun, Ryan Westcott, Luke Nelson, E.M. White, Vlad Tomash, Sizz_TV, Billy Dean Goehring, Curt Flood, Chase Mayers, Mikey, Nathan Mitchell, Sasquatch, Branndon Edwards, Joseph Miranda, Johan Fröberg, UTG community and many others!</p>

        <ul class="share-buttons">
          <li><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fazgaar.github.io%2FFantasy-Map-Generator%2F&quote=" data-tip="Share on Facebook" target="_blank"><img alt="Share on Facebook" src="images/Facebook.png" /></a></li>
          <li><a href="https://twitter.com/intent/tweet?source=https%3A%2F%2Fazgaar.github.io%2FFantasy-Map-Generator&text=%23FantasyMapGenerator%0A%0Ahttps%3A//azgaar.github.io/Fantasy-Map-Generator" target="_blank" data-tip="Tweet"><img alt="Tweet" src="images/Twitter.png" /></a></li>
          <li><a href="http://www.tumblr.com/share?v=3&u=https%3A%2F%2Fazgaar.github.io%2FFantasy-Map-Generator" target="_blank" data-tip="Post to Tumblr"><img alt="Post to Tumblr" src="images/Tumblr.png" /></a></li>
          <li><a href="http://pinterest.com/pin/create/button/?url=https%3A%2F%2Fazgaar.github.io%2FFantasy-Map-Generator" target="_blank" data-tip="Pin it"><img alt="Pin it" src="images/Pinterest.png" /></a></li>
          <li><a href="http://www.reddit.com/submit?url=https%3A%2F%2Fazgaar.github.io%2FFantasy-Map-Generator" target="_blank" data-tip="Submit to Reddit"><img alt="Submit to Reddit" src="images/Reddit.png" /></a></li>
        </ul>
      </div>

      <div id="sticked">
        <button id="newMapButton" data-tip="Generate a new map based on options. Shortcut: F7">New Map</button>
        <button id="saveButton" data-tip="Select file format to save map">Save as</button>
        <div id="saveDropdown">
          <div id="saveMap" data-tip="Save as fully functional map in .map format. Shortcut: Ctrl + M">.map</div>
          <div id="saveSVG" data-tip="Download the map as .svg image (open in browser or Inkscape). Shortcut: Ctrl + S">.svg</div>
          <div id="savePNG" data-tip="Download visible part of the map as image. Texture will not be shown. Shortcut: Ctrl + P">.png</div>
        </div>
        <button id="loadMap" data-tip="Load fully functional map in a .map format. Shortcut: Ctrl + L">Load</button>
        <button id="zoomReset" data-tip="Reset map zoom. Shortcut: 0">Reset Zoom</button>
      </div>

    </div>
  </div>

  <div id="dialogs" style="background-color: #ffffff">

    <div id="worldConfigurator" class="dialog stable" style="display: none">

      <div id="worldControls">
        <label data-tip="Set temerature at equator">
          <i data-locked=0 id="lock_temperatureEquator" class="icon-lock-open"></i>
          <i>Equator:</i>
          <input id="temperatureEquatorInput" data-stored="temperatureEquator"  type="number" min="-30" max="30" style="width:32px"/>°C = 
          <span id="temperatureEquatorF"></span>°F
          <input id="temperatureEquatorOutput" data-stored="temperatureEquator" type="range" min="-30" max="30"/>
        </label>
        <label data-tip="Set temerature at poles">
          <i data-locked=0 id="lock_temperaturePole" class="icon-lock-open"></i>
          <i>Poles:</i> 
          <input id="temperaturePoleInput" data-stored="temperaturePole" type="number" min="-30" max="30" style="width:32px"/>°C = 
          <span id="temperaturePoleF"></span>°F
          <input id="temperaturePoleOutput" data-stored="temperaturePole" type="range" min="-30" max="30"/>
        </label>
        <label data-tip="Set equator Y position relative to map">
          <i data-locked=0 id="lock_equator" class="icon-lock-open"></i>
          <i>Equator Y:</i> 
          <input id="equatorInput" data-stored="equator" type="number" style="width:45px">
          <input id="equatorOutput" data-stored="equator" type="range">
        </label>
        <label data-tip="Set distance from equator to poles. It actually contols world size">
          <i data-locked=0 id="lock_equidistance" class="icon-lock-open"></i>
          <i>Equidistance:</i> 
          <input id="equidistanceInput" data-stored="equidistance" type="number" style="width:45px">
          <input id="equidistanceOutput" data-stored="equidistance" type="range">
        </label>
        <label data-tip="Set precipitation - water amount clouds can bring. Defines rivers and biomes generation">
          <i data-locked=0 id="lock_prec" class="icon-lock-open"></i>
          <i>Precipitation:</i> 
          <input id="precInput" data-stored="prec" type="number" style="width:34px">%
          <input id="precOutput" data-stored="prec" type="range" min="0" max="100" value="50">
        </label>
        <label data-tip="Map size. Can be changed in general options">
          <i>Map size:</i><br>
          <span id="mapSize"></span> px = <span id="mapSizeFriendly"></span> 
        </label>
        <label>
          <i data-tip="Length of Medirian. Doubled equidistance or almost half of the equator length">Meridian length:</i><br>
          <span id="meridianLength" data-tip="Length of Medirian in pixels"></span> px = 
          <span id="meridianLengthFriendly" data-tip="Length of Medirian is friendly units (depends on user configuration)"></span>
          <span id="meridianLengthEarth" data-tip="Fantasy world medirian length relative to real-world Earth (20k km)"></span>
        </label>
        <label data-tip="Map coordinates on globe"><i>Coords:</i> <span id="mapCoordinates"></span></label>
      </div>

      <svg id="globe" width="222" height="222" viewBox="-20 -15 240 225">
        <defs>
          <linearGradient id="temperatureGradient" x1="0" x2="0" y1="0" y2="1">
            <stop class="tempGradient90" offset="0%" stop-color="blue"/>
            <stop class="tempGradient60" offset="16.6%" stop-color="green"/>
            <stop class="tempGradient30" offset="33.3%" stop-color="yellow"/>
            <stop class="tempGradient0" offset="50%" stop-color="red"/>
            <stop class="tempGradient30" offset="66.6%" stop-color="yellow"/>
            <stop class="tempGradient60" offset="83.3%" stop-color="green"/>
            <stop class="tempGradient90" offset="100%" stop-color="blue"/>
          </linearGradient>
        </defs>
        <g id="globeNoteLines">
          <line x1="5" x2="220" y1="0" y2="0"></line>
          <line x1="5" x2="220" y1="13" y2="13"></line>
          <line x1="5" x2="220" y1="49.5" y2="49.5"></line>
          <line x1="-5" x2="220" y1="100" y2="100"></line>
          <line x1="5" x2="220" y1="150.5" y2="150.5"></line>
          <line x1="5" x2="220" y1="187" y2="187"></line>
          <line x1="5" x2="220" y1="200" y2="200"></line>    
        </g>
        <g id="globeWindArrows" data-tip="Click to change wind direction">
          <circle cx=210 cy=6 r=12></circle>
          <path data-tier=0 d="M210,11 v-10 l-3,3 m6,0 l-3,-3" transform="rotate(225 210 6)"></path>
          <circle cx=210 cy=30 r=12></circle>
          <path data-tier=1 d="M210,35 v-10 l-3,3 m6,0 l-3,-3" transform="rotate(45 210 30)"></path>
          <circle cx=210 cy=75 r=12></circle>
          <path data-tier=2 d="M210,80 v-10 l-3,3 m6,0 l-3,-3" transform="rotate(225 210 75)"></path>
          <circle cx=210 cy=130 r=12></circle>
          <path data-tier=3 d="M210,135 v-10 l-3,3 m6,0 l-3,-3" transform="rotate(315 210 130)"></path>
          <circle cx=210 cy=173 r=12></circle>
          <path data-tier=4 d="M210,178 v-10 l-3,3 m6,0 l-3,-3" transform="rotate(135 210 173)"></path>
          <circle cx=210 cy=194 r=12></circle>
          <path data-tier=5 d="M210,199 v-10 l-3,3 m6,0 l-3,-3" transform="rotate(315 210 194)"></path>
        </g>
        <g id="globaAxisLabels">
          <text x="82%" y="-4%">wind</text>
          <text x="-8%" y="-4%">latitude</text>
          <text id="restoreWind" data-tip="Click to restore default wind directions" x="60%" y="95%">restore default</text>
        </g>
        <g id="globeLatLabels">
          <text x="-15" y="5">90°</text>
          <text x="-15" y="18">60°</text>
          <text x="-15" y="53">30°</text>
          <text x="-15" y="103">0°</text>
          <text x="-15" y="153">30°</text>
          <text x="-15" y="190">60°</text>
          <text x="-15" y="204">90°</text>
        </g>        
        <circle id="globeOutline" cx="100" cy="100" r="100"></circle>
        <path id="globeArea"></path>
        <path id="globeGraticule"></path>
        <line id="globeEquator" x1="1" x2="199" y1="100" y2="100"></line>
      </svg>

    </div>

    <div id="labelEditor" class="dialog" style="display: none">
      <button id="labelGroupShow" data-tip="Show the group selection" class="icon-tags"></button>
      <div id="labelGroupSection" style="display: none">
        <button id="labelGroupHide" data-tip="Hide the group selection" class="icon-tags"></button>
        <select id="labelGroupSelect" data-tip="Select a group for this label" style="width:113px"></select>
        <input id="labelGroupInput" placeholder="new group name" data-tip="Provide a name for the new group" style="display:none; width:109px; height:10px"/>
        <span id="labelGroupNew" data-tip="Create new group for this label" class="icon-plus pointer"></span>
        <span id="labelGroupRemove" data-tip="Remove the Group with all labels" class="icon-trash-empty pointer"></span>
      </div>

      <button id="labelTextShow" data-tip="Show the edit label text section" class="icon-pencil"></button>
      <div id="labelTextSection" style="display: none">
        <button id="labelTextHide" data-tip="Hide the edit label text section" class="icon-pencil"></button>
        <input id="labelText" style="width: 121px; height:12px"/>
        <span id="labelTextRandom" data-tip="Generate random name" class="icon-shuffle pointer"></span>
      </div>

      <button id="labelSizeShow" data-tip="Show the font size section" class="icon-text-height"></button>
      <div id="labelSizeSection" style="display: none">
        <button id="labelSizeHide" data-tip="Hide the font size section" class="icon-text-height"></button>
        <input id="labelStartOffset" data-tip="Set starting offset for the particular label" type="range" min=20 max=80 style="width:79px">
        <i class="icon-text-height"></i>
        <input id="labelRelativeSize" data-tip="Set relative size for the particular label" type="number" min=30 max=300 step=1 style="width:36px">
      </div>

      <button id="labelLegend" data-tip="Edit free text notes (legend) for this label" class="icon-edit"></button>
      <button id="labelRemoveSingle" data-tip="Remove the label. Shortcut: Delete" class="icon-trash"></button>
    </div>

    <div id="riverEditor" class="dialog" style="display: none">
      <button id="riverWidthShow" data-tip="Show the river width and widening change section" class="icon-resize-full"></button>
      <div id="riverWidthSection" style="display: none">
        <button id="riverWidthHide" data-tip="Hide the river width and widening change section" class="icon-resize-full"></button>
        <i id="riverWidthIcon" class="icon-w"></i>
        <input id="riverWidthInput" data-tip="Change river width" value="1" type="range" min=.2 max=5 step=.1>
        <i id="riverIncrementIcon" class="icon-i"></i>
        <input id="riverIncrement" data-tip="Change river bed increment (widening speed)" type="range" min=.02 max=2 step=.02>
      </div>

      <button id="riverResizeShow" data-tip="Show river transformation section" class="icon-ccw"></button>
      <div id="riverResizeSection" style="display: none">
        <button id="riverResizeHide" data-tip="Hide river transformation section" class="icon-ccw"></button>
        <i id="riverAngleIcon" class="icon-a"></i>
        <input id="riverAngle" data-tip="Rotate river by angle" type="range" min="-90" max=90 step=.2>
        <span id="riverAngleValue">0&#8457;</span>
        <i id="riverScaleIcon" class="icon-s"></i>
        <input id="riverScale" data-tip="Change river scale" value="1" type="number" min=.1 max=3 step=.01>
        <span id="riverReset" data-tip="Reset transformation to default" class="icon-cancel pointer"></span>
      </div>

      <button id="riverLength" data-tip="Route length in selected units">0</button>
      <button id="riverCopy" data-tip="Copy river" class="icon-clone"></button>
      <button id="riverNew" data-tip="Create new river clicking on map" class="icon-map-pin"></button>
      <button id="riverLegend" data-tip="Edit free text notes (legend) for the river" class="icon-edit"></button>
      <button id="riverRemove" data-tip="Remove river. Shortcut: Delete" class="icon-trash"></button>
    </div>

    <div id="routeEditor" class="dialog" style="display: none">
      <button id="routeGroupsShow" data-tip="Show the group selection" class="icon-tags"></button>
      <div id="routeGroupsSelection" style="display: none">
        <button id="routeGroupsHide" data-tip="Hide the group section" class="icon-tags"></button>
        <select id="routeGroup" data-tip="Select a group for this route" style="width:135px"></select>
        <input id="routeGroupName" placeholder="new group name" data-tip="Provide a name for the new group" style="display:none; width:131px; height:10px"/>
        <span id="routeGroupAdd" data-tip="Create new group for this route" class="icon-plus pointer"></span>
        <span id="routeGroupRemove" data-tip="Remove all routes of this group" class="icon-trash-empty pointer"></span>
      </div>
      <button id="routeLength" data-tip="River length in selected units">0</button>
      <button id="routeSplit" data-tip="Click on a control point to split the route" class="icon-unlink"></button>
      <button id="routeLegend" data-tip="Edit free text notes (legend) for the route" class="icon-edit"></button>
      <button id="routeNew" data-tip="Create new route clicking on map" class="icon-map-pin"></button>
      <button id="routeRemove" data-tip="Remove route. Shortcut: Delete" class="icon-trash"></button>
    </div>

    <div id="reliefEditor" class="dialog" style="display: none">

      <div id="reliefTools" data-tip="Select mode of operation">
        <div>Mode:</div>
        <button id="reliefIndividual" data-tip="Edit individual selected icon" class="icon-info pressed"></button>
        <button id="reliefBulkAdd" data-tip="Place icons in a bulk" class="icon-brush"></button>
        <button id="reliefBulkRemove" data-tip="Remove icons in a bulk" class="icon-eraser"></button>
      </div>

      <div id="reliefSizeDiv" data-tip="Set icon size for individual icon or for bulk placement">
        <div>Size:</div>
        <input id="reliefSize" type="range" min=2 max=30 step=1 value=5>
        <input id="reliefSizeNumber" type="number" min=2 max=30 step=1 value=5>
      </div>

      <div id="reliefRadiusDiv" data-tip="Set brush radius for icons placement on deletion" style="display:none">
        <div>Radius:</div>
        <input id="reliefRadius" oninput="reliefRadiusNumber.value = this.value" type="range" min=1 max=50 value=15>
        <input id="reliefRadiusNumber" oninput="reliefRadius.value = this.value" type="number" min=1 max=50 value=15>
      </div>

      <div id="reliefSpacingDiv" data-tip="Set spacing between relief icons" style="display:none">
        <div>Spacing:</div>
        <input id="reliefSpacing" oninput="reliefSpacingNumber.value = this.value" type="range" min=2 max=20 value=5>
        <input id="reliefSpacingNumber" oninput="reliefSpacing.value = this.value" type="number" min=2 max=20 value=5>
      </div>

      <div id="reliefIconsDiv" data-tip="Select icon">
        <button data-type="#relief-mount-1" data-tip="Select Mountain icon">
          <svg class="button" viewBox="5 0 90 90" height="22" width="20">
            <path d="m3,69 16,-12 31,-32 15,20 30,24" fill="#fff" stroke="#000" stroke-width="1"></path>
            <path d="m3,69 16,-12 31,-32 -14,44" fill="#333"></path>
          </svg>
        </button>

        <button data-type="#relief-hill-1" data-tip="Select Hill icon">
          <svg class="button" viewBox="14 0 74 74" height="22" width="20">
            <path d="m20,55 q30,-28 60,0" fill="#333" stroke="#000"></path>
            <path d="m38,55 q13,-24 40,0" fill="#fff"></path>
          </svg>
        </button>

        <button data-type="#relief-deciduous-1" data-tip="Select Deciduous tree icon">
          <svg class="button" viewBox="27 20 48 48" height="22" width="20">
            <path d="m50,52 v7 h1 v-7 h-0.5 q13,-7 0,-16 q-13,9 0,16" fill="#fff" stroke="#000"></path>
            <path d="m50,52 q-12,-7 0,-16 q-3.5,10 0,15.5" fill="#333"></path>
          </svg>
        </button>

        <button data-type="#relief-conifer-1" data-tip="Select Conifer tree icon">
          <svg class="button" viewBox="28 23 44 44" height="22" width="20">
            <path d="m50,55 v4 h1 v-4 l4.5,0 -4,-8 l3.5,0 -4.5,-9 -4,9 3,0 -3.5,8 7,0" fill="#fff" stroke="#000"></path>
            <path d="m46,55 l4,-8 -4,0 5,-9 -2.5,9 l1.5,0 -2,8" fill="#333"></path>
          </svg>
        </button>

        <button data-type="#relief-palm-1" data-tip="Select Palm tree icon">
          <svg class="button" viewBox="27 20 44 44" height="22" width="20">
            <path d="m 48.1,55.5 2.1,0 c 0,0 1.3,-5.5 1.2,-8.6 0,-3.2 -1.1,-5.5 -1.1,-5.5 l -0.5,-0.4 -0.2,0.1 c 0,0 0.9,2.7 0.5,6.2 -0.5,3.8 -2.1,8.2 -2.1,8.2 z" fill="#000"></path>
            <path d="m 54.9,48.8 c 0,0 1.9,-2.5 0.3,-5.4 -1.4,-2.6 -4.3,-3.2 -4.3,-3.2 0,0 1.6,-0.6 3.3,-0.3 1.7,0.3 4.1,2.5 4.1,2.5 0,0 -0.6,-3.6 -3.6,-4.4 -2.2,-0.6 -4.2,1.3 -4.2,1.3 0,0 0.3,-1.5 -0.2,-2.9 -0.6,-1.4 -2.6,-1.9 -2.6,-1.9 0,0 0.8,1.1 1.2,2.2 0.3,0.9 0.3,2 0.3,2 0,0 -1.3,-1.8 -3.7,-1.5 -2.5,0.2 -3.7,2.5 -3.7,2.5 0,0 2.3,-0.6 3.4,-0.6 1.1,0.1 2.6,0.8 2.6,0.8 l -0.4,0.2 c 0,0 -1.2,-0.4 -2.7,0.4 -1.9,1.1 -2.9,3.7 -2.9,3.7 0,0 1.4,-1.4 2.3,-1.9 0.5,-0.3 1.8,-0.7 1.8,-0.7 0,0 -0.7,1.3 -0.9,3.1 -0.1,2.5 1.1,4.6 1.1,4.6 0,0 0.1,-3.4 1.2,-5.6 1,-1.9 2.3,-2.6 2.3,-2.6 l 0.4,-0.2 c 0,0 1.5,0.7 2.8,2.8 1,1.7 2.3,5 2.3,5 z" fill="#fff" stroke="#000" stroke-width=".8"></path>
            <path d="m 47.7,34.6 c 0,0 1,1.2 1.2,2.3 0.2,0.9 0.3,2.8 0.3,2.8 0,0 -1.6,-1.5 -3.2,-1.6 -1.8,-0.1 -4,1.3 -4,1.3 0,0 2.1,-0.5 3.3,-0.5 1.5,0 3.3,1.2 3.3,1.2 0,0 -1.7,0.8 -2.6,2.8 -0.9,2 -0.3,6 -0.3,6 0,0 0,-2.9 0.9,-5 0.8,-1.8 2.1,-2.7 2.4,-2.8 0.7,-0.3 0.5,-1.1 0.5,-1.1 0,0 -0.1,-2.2 -0.5,-3.4 -0.4,-1.2 -1.5,-2.1 -1.5,-2.1 z" fill="#333"></path>
            <path d="m 42,43.7 c 0,0 1.2,-1.1 1.8,-1.5 0.7,-0.4 2,-0.8 2,-0.8 L 46.5,40.5 c 0,0 -0.8,0 -2.3,0.8 -1.3,0.8 -2.2,2.3 -2.2,2.3 z" fill="#333"></path>
          </svg>
        </button>

        <button data-type="#relief-acacia-1" data-tip="Select Acacia tree icon">
          <svg class="button" viewBox="27 22 44 44" height="22" width="20">
            <path d="m52 38 c-2.3 -0.1 -4.3 1.1 -4.9 1.1 -2.2 -0.2 -5 0.2 -6.4 1 -1.3 0.7 -2.8 1.6 -3.7 2.1 -1 0.6 -3.4 1.8 -2.2 2.7 1.1 0.9 3.1 -0.2 4.2 0.3 1.4 0.8 2.9 1 4.5 0.9 1.1 -0.1 2.2 -0.4 2.4 1 0.3 1.9 1.1 3.5 2.1 5.1 0.8 2.4 1 2.8 1 6.8 l2 0 c 0 -1.1 -0.1 -4 1.2 -5.7 1.1 -1.4 1.4 -3.4 3 -4.4 0.9 -1.4 2 -2.6 3.8 -2.7 1.7 -0.3 3.8 0.8 5.1 0.3 0.9 -0.1 3.2 1 3.5 -1 0.1 -2 -2.2 -2.1 -3.2 -3.3 -1.1 -1.5 -3.3 -1.9 -4.9 -1.8 -1 -0.5 -2 -2.5 -7.3 -2.5 z m -0.5 0.4 c2.7338 -0.2 5.6 0.2 7.5 2.4 1.7 0 3.7 0 4.8 1.5 1 1.2 3.4 1.8 3.4 3 0 2.1 -3.2 0.5 -3.6 0.1 -1.3 -1.4 -2.9 -0.6 -4.5 -0.7 -1.6 -0.1 -3.2 0.4 -4.6 -0.6 -1.1 -0.7 -2.5 0.1 -3.8 -0.1 -1.8 -0.2 -4 -0.4 -5.9 -0.1 -1.4 0 -2.8 0.1 -4.2 0 -1.7 0.5 -5.5 1.1 -5.4 0.4 0.2 -1.1 4.5 -3.2 5.9 -3.9 1.9 -0.9 3.7 -1.1 6.2 -0.8 0.7 -0.2 1.7 -1.1 4.3 -1.3 z m2 6 c1.6 0.3 2 2.2 1.2 3.3 -1 1.3 -1 -1.3 -1.3 -2 -0.2 -0.5 -0.8 -1.3 0.1 -1.3 z m -12.9 0.2 c1 -0.1 3.5 -0.3 3.1 0.9 -1.4 0 -3.4 0.1 -4.4 -0.6 0.4 -0.2 0.9 -0.2 1.3 -0.3 z m5.6 -0.1 c0.8 0.1 3.1 -0.3 3 0.5 -1.3 0.6 -1.6 2.2 -2.1 3.1 -0.4 -1.2 -0.7 -2.7 -2.1 -3.2 -0.9 -0.6 1 -0.5 1.3 -0.4 z m5.3 0.3 c1.1 0.1 1.6 2.4 0.1 1.3 -1.6 -1.2 -0.6 -1.3 -0.1 -1.3 z m7.5 0.4 c1.2 0 3.3 -0.2 2.9 0.2 -1.4 1.2 -3 -0.3 -4.8 0.8 -0.9 0.5 -2 0.8 -1.1 -0.4 0.5 -0.6 1.3 -0.5 3 -0.6 z m -8.9 0.1 c0.7 1.2 2.1 1.5 2.9 2.1 0.9 1.6 -0.5 3.1 -1.3 4.5 -0.9 1.5 -1.9 2.2 -2.4 0.3 -0.1 -0.5 -1.8 -2.2 -1.2 -3.7 0.3 -1.3 0.6 -2.6 2 -3.2 z m12.5 0.1 c0.6 0.2 1.3 1.1 0.2 0.9 -1.4 -0.1 -1.4 -0.3 -0.2 -0.9 z" fill="#000"></path>
            <path d="m47 42.33 c2 0.1 4.1 0.5 6.1 -0.3 1.4 -0.3 2.6 0.8 3.6 1.6 0.7 0.4 2.5 0.7 2.7 1.2 -2.2 -0.1 -3.6 0.4 -4.8 -0.4 -1 -0.7 -2.2 -0.3 -3 -0.2 -0.9 0.1 -3 -0.4 -5.5 -0.2 -2.6 0.2 -5.1 -0.1 -7.2 0.5 -3.6 0.6 -3.7 0 -3.7 0 2.2 -2 9.1 -1.7 11.9 -2.2 z" fill="#999"/>
          </svg>
        </button>

        <button data-type="#relief-grass-1" data-tip="Select Grass icon">
          <svg class="button" viewBox="43 41 15 15" height="22" width="20">
            <path d="m 49.5,53.1 c 0,-3.4 -2.4,-4.8 -3,-5.4 1,1.8 2.4,3.7 1.8,5.4 z M 51,53.2 C 51.4,49.6 49.6,47.9 48,46.8 c 1.1,1.8 2.8,4.6 1.8,6.5 z M 51.4,51.4 c 0.6,-1.9 1.8,-3.4 3,-4.3 -0.8,0.3 -2.9,1.5 -3.4,2.8 0.2,0.4 0.3,0.8 0.4,1.5 z M 52.9,53.2 c -0.7,-1.9 0.5,-3.3 1.5,-4.4 -1.7,1 -3,2.2 -2.7,4.4 z" fill="#5c5c70" stroke="none"></path>
          </svg>
        </button>

        <button data-type="#relief-swamp-1" data-tip="Select Swamp icon">
          <svg class="button" viewBox="36 34 29 29" height="22" width="20">
            <path d="m50,46 v6 l3,-4 m-3,4 l-3,-4 m-7,4.5 h4 m4,0 h4 m4,0 h4" fill="none" stroke="#000"></path>
          </svg>
        </button>

        <button data-type="#relief-dune-1" data-tip="Select Dune icon">
          <svg class="button" viewBox="23 20 48 48" height="22" width="20">
            <path d="m 28.7,52.8 c 5,-3.9 10,-8.2 15.8,-8.3 4.5,0 10.8,3.8 15.2,6.5 3.5,2.2 6.8,2 6.8,2" fill="none" stroke="#000" stroke-width="1.3"></path>
            <path d="m 44.2,47.6 c -3.2,3.2 3.5,5.7 5.9,7.8" fill="none" stroke="#000"></path>
          </svg>
        </button>

        <button id="reliefIconsSeletionAny" style="display:none">any</button>
      </div>

      <div id="reliefBottom">
        <button id="reliefCopy" data-tip="Copy selected relief icon" class="icon-clone"></button>
        <button id="reliefMoveFront" data-tip="Move selected relief icon to front" class="icon-level-up"></button>
        <button id="reliefMoveBack" data-tip="Move selected relief icon back" class="icon-level-down"></button>
        <button id="reliefRemove" data-tip="Remove selected relief icon. Shortcut: Delete" class="icon-trash"></button>
      </div>
    </div>

    <div id="burgEditor" class="dialog" style="display: none">
      <button id="burgGroupShow" data-tip="Show group change section" class="icon-tags"></button>
      <div id="burgGroupSection" style="display: none">
        <button id="burgGroupHide" data-tip="Hide group change section" class="icon-tags"></button>
        <select id="burgSelectGroup" data-tip="Select a group for this burg" style="width: 117px;"></select>
        <input id="burgInputGroup" placeholder="new group name" data-tip="Create new Group for the Burg" style="display: none; width: 113px; height: 10px"/>
        <i id="burgAddGroup" data-tip="Create new group for the burg" class="icon-plus pointer"></i>
        <i id="burgRemoveGroup" data-tip="Remove selected burg group" class="icon-trash pointer"></i>
      </div>

      <button id="burgNameShow" data-tip="Show name change section" class="icon-pencil"></button>
      <div id="burgNameSection" style="display: none">
        <button id="burgNameHide" data-tip="Hide name change section" class="icon-pencil"></button>
        <input id="burgNameInput" data-tip="Populate to rename the burg" style="height: 12px"/>
        <span id="burgNameReCulture" data-tip="Generate culture-specific name for the burg" class="icon-book pointer"></span>
        <span id="burgNameReRandom" data-tip="Generate random name for the burg" class="icon-globe pointer"></span>
      </div>

      <button id="burgSeeInMFCG" data-tip="Open the burg representation in the Medieval Fantasy City Generator by Watabou" class="icon-map-o"></button>
      <button id="burgRelocate" data-tip="Relocate burg" class="icon-target"></button>
      <button id="burglLegend" data-tip="Edit free text notes (legend) for this burg" class="icon-edit"></button>
      <button id="burgRemove" data-tip="Remove non-capital burg. Shortcut: Delete" class="icon-trash"></button>
    </div>

    <div id="markerEditor" class="dialog" style="display: none">

      <button id="markerGroup" data-tip="Change marker type" class="icon-tags"></button>
      <div id="markerGroupSection" style="display: none">
        <select id="markerSelectGroup" data-tip="Select type for the selected marker" style="width: 117px; height: 18px"></select>
        <input id="markerInputGroup" data-tip="Create new type for selected marker" placeholder="type new name" style="display: none; width: 113px;  height: 12px"/>
        <i id="markerAddGroup" data-tip="Create new markers type" class="icon-plus pointer"></i>
        <i id="markerRemoveGroup" data-tip="Remove all markers of that type" class="icon-trash pointer"></i>
      </div>

      <button id="markerIcon" data-tip="Change marker icon and edit positioning" class="icon-star"></button>
      <div id="markerIconSection" style="display: none">
        <i data-tip="Change marker icon size" class="icon-resize-full"></i>
        <input id="markerIconSize" data-tip="Change marker icon size" type="range" min=10 max=30 step=.5 value=22 style="width:12em">
        <i data-tip="Change marker horizontal shift" class="icon-resize-horizontal"></i>
        <input id="markerIconShiftX" data-tip="Change icon horizontal shift" type="number" value=50 style="width:3em">
        <i data-tip="Change marker vertical shift" class="icon-resize-vertical"></i>
        <input id="markerIconShiftY" data-tip="Change vertical shift" type="number" min=0 max=100 value=50 style="width:3em">
        <i data-tip="Paste custom unicode symbol to use as icon" class="icon-pencil"></i>
        <input id="markerIconCustom" data-tip="Paste custom unicode symbol to use as icon" style="width:3em">
        <table id="markerIconTable"></table>
        <div style="font-style: italic; color: darkgrey;">Please note icons look different in different browsers!</div>
      </div>

      <button id="markerStyle" data-tip="Change marker size and colors" class="icon-brush"></button>
      <div id="markerStyleSection" style="display: none">
        <i data-tip="Change marker base (pin) style" class="icon-map-pin"></i>:
        <input id="markerSize" data-tip="Change marker size" type="range" min=.02 max=20 step=.2 value=1 style="width:12em">
        <input id="markerBaseStroke" data-tip="Change pin stroke color" type="color" value="#ffffff">
        <input id="markerBaseFill" data-tip="Change pin fill color" type="color" alue="#000000">
        <br><i data-tip="Change marker icon style" class="icon-star"></i>:
        <input id="markerIconStrokeWidth" data-tip="Change icon stroke width" type="range" min=0 max=1 step=.02 value=0 style="width:12em">
        <input id="markerIconStroke" data-tip="Change icon stroke color. Ensure icon stroke width is non-zero" type="color" value="#3200ff">
        <input id="markerIconFill" data-tip="Change icon fill color" type="color" value="#000000">
      </div>

      <button id="markerToggleBubble" data-tip="Toggle pin (bubble) display" class="icon-info-circled"></button>
      <button id="markerLegendButton" data-tip="Edit place legend (free text notes)" class="icon-edit"></button>
      <button id="markerAdd" data-tip="Add additional marker of that type" class="icon-plus"></button>
      <button id="markerRemove" data-tip="Remove the marker. Shortcut: Delete" class="icon-trash"></button>
    </div>

    <div id="brushesPanel" class="dialog stable" style="display: none">
      <div id="brushesButtons" style="display: inline-block">
        <button id="brushRaise" data-tip="Raise brush: increase height of cells in radius by Power value">
          <svg viewBox="15 15 70 70" height="14" width="22">
            <path d="m20,39 h60 M50,85 v-35 l-12,8 m12,-8 l12,8" fill="none" stroke="#000" stroke-width="5"></path>
          </svg>
        </button>

        <button id="brushElevate" data-tip="Elevate brush: drag to gradually increase height of cells in radius by Power value">
          <svg viewBox="15 15 70 70" height="14" width="22">
            <path d="m20,50 q30,-35 60,0 M50,85 v-35 l-12,8 m12,-8 l12,8" fill="none" stroke="#000" stroke-width="5"></path>
          </svg>
        </button>

        <button id="brushLower" data-tip="Lower brush: drag to decrease height of cells in radius by Power value">
          <svg viewBox="15 15 70 70" height="14" width="22">
            <path d="M50,30 v35 l-12,-8 m12,8 l12,-8 M20,78 h60" fill="none" stroke="#000" stroke-width="5"></path>
          </svg>
        </button>

        <button id="brushDepress" data-tip="Depress brush: drag to gradually decrease height of cells in radius by Power value">
          <svg viewBox="15 15 70 70" height="14" width="22">
            <path d="M50,30 v35 l-12,-8 m12,8 l12,-8 M20,63 q30,35 60,0" fill="none" stroke="#000" stroke-width="5"></path>
          </svg>  
        </button>

        <button id="brushAlign" data-tip="Align brush: drag to set height of cells in radius to height of the cell at mousepoint">
          <svg viewBox="15 15 70 70" height="14" width="22">
            <path d="m20,50 h56 m0,20 h-56" fill="none" stroke="#000" stroke-width="5"></path>
          </svg>
        </button>

        <button id="brushSmooth" data-tip="Smooth brush: drag to level height of cells in radius to height of adjacent cells">
          <svg viewBox="15 15 70 70" height="14" width="22">
            <path d="m15,60 q15,-15 30,0 q15,15 35,0" fill="none" stroke="#000" stroke-width="5"></path>
          </svg>
        </button>

        <button id="brushDisrupt" data-tip="Disrupt brush: drag to randomize height of cells in radius based on Power value">
          <svg viewBox="15 15 70 70" height="14" width="22">
            <path d="m15,63 l15,-13 15,20 15,-20 15,19 15,-14" fill="none" stroke="#000" stroke-width="5"></path>
          </svg>
        </button>
      </div>

      <div id="brushesSliders" style="display: none">
        <div data-tip="Set the brush size" style="padding-bottom: 1px"><div style="width:3.2em; display: inline-block"><i>Radius:</i></div>
          <input id="brushRadius" oninput="tip('Brush radius: '+this.value); brushRadiusNumber.value = this.value" type="range" min=5 max=50 value=25>
          <input id="brushRadiusNumber" oninput="tip('Brush radius: '+this.value); brushRadius.value = this.value" type="number" min=5 max=50 value=25 style="border: 1px solid #d4d4d4">
        </div>

        <div data-tip="Set the brush power"><div style="width:3.2em; display: inline-block"><i>Power:</i></div>
          <input id="brushPower" oninput="tip('Brush power: '+this.value); brushPowerNumber.value = this.value" type="range" min=1 max=10 value=5>
          <input id="brushPowerNumber" oninput="tip('Brush power: '+this.value); brushPower.value = this.value" type="number" min=1 max=10 value=5 style="border: 1px solid #d4d4d4">
        </div>
      </div>

      <div data-tip="Allow brush to change only land cells and hence restrict the coastline modification">
        <input id="changeOnlyLand" class="checkbox" type="checkbox">
        <label for="changeOnlyLand" class="checkbox-label"><i>change only land cells</i></label>
      </div>

      <div id="modifyButtons">
        <button id="undo" data-tip="Undo the latest action (Ctrl + Z)" class="icon-ccw" disabled></button>
        <button id="redo" data-tip="Redo the action (Ctrl + Y)" class="icon-cw" disabled></button>
        <button id="rescaleShow" data-tip="Show rescaler slider" class="icon-exchange"></button>
        <button id="rescaleCondShow" data-tip="Rescaler: change height if condition is fulfilled" class="icon-if"></button>
        <button id="smoothHeights" data-tip="Smooth all heights a bit" class="icon-smooth"></button>
        <button id="disruptHeights" data-tip="Disrupt (randomize) heights a bit" class="icon-disrupt"></button>
        <button id="brushClear" data-tip="Set height for all cells to 0 (erase the map)" class="icon-eraser"></button>
      </div>

      <div id="rescaleSection" style="display: none">
        <button id="rescaleHide" data-tip="Hide rescaler slider" class="icon-exchange"></button>
        <input id="rescaler" data-tip="Change height for all cells" type="range" min=-10 max=10 step=1 value=0>
      </div>

      <div id="rescaleCondSection" data-tip="If height is greater or equal to X and less or equal to Y, then perform an operation Z with operand V" style="display: none">
        <button id="rescaleCondHide" data-tip="Hide rescaler" class="icon-if"></button>
        <label>h ≥</label>
        <input id="rescaleLower" value=20 type="number" min=0 max=100>
        <label>≤</label>
        <input id="rescaleHigher" value=100 type="number" min=1 max=100>
        <label>⇒</label>
        <select id="conditionSign">
          <option value="multiply" selected>×</option>
          <option value="divide">÷</option>
          <option value="add">+</option>
          <option value="subtract">-</option>
          <option value="exponent">^</option>
        </select>
        <input id="rescaleModifier" type="number" value=0.9 min=0 max=1.5 step=0.01>
        <button id="rescaleExecute" data-tip="Click to perform an operation" class="icon-play-circled2"></button>
      </div>

    </div>

    <div id="templateEditor" class="dialog stable" style="display: none">
      <div id="templateTop">
        <i>Select template: </i><select id="templateSelect" style="width:16em" data-prev="templateCustom" data-tip="Select base template">
          <option value="templateCustom" selected>Custom</option>
          <option value="templateVolcano">Volcano</option>
          <option value="templateHighIsland">High Island</option>
          <option value="templateLowIsland">Low Island</option>
          <option value="templateContinents">Continents</option>
          <option value="templateArchipelago">Archipelago</option>
          <option value="templateAtoll">Atoll</option>
          <option value="templateMediterranean">Mediterranean</option>
          <option value="templatePeninsula">Peninsula</option>
          <option value="templatePangea">Pangea</option>
        </select>
      </div>
      <div id="templateTools">
        <button id="templateHill" data-tip="Hill: small blob" class="noicon">H</button>
        <button id="templatePit" data-tip="Pit: round depression" class="noicon">P</button>
        <button id="templateRange" data-tip="Range: elongated elevation" class="noicon">R</button>
        <button id="templateTrough" data-tip="Trough: elongated depression" class="noicon">T</button>
        <button id="templateStrait" data-tip="Strait: centered vertical or horizontal depression" class="noicon">S</button>
        <button id="templateAdd" data-tip="Add or subtract value from all heights in range" class="noicon">+</button>
        <button id="templateMultiply" data-tip="Multiply all heights in range by factor" class="noicon">*</button>
        <button id="templateSmooth" data-tip="Smooth the map replacing cell heights by an average values of its neighbors" class="noicon">~</button>
      </div>
      <div id="templateBody" data-changed=0 class="table">
        <div data-type="Hill">
          <div class="elType">Hill</div>
          <i class="icon-trash-empty pointer" data-tip="Remove the step" onclick="this.parentElement.remove()"></i>
          <span>y:<input class="templateY" data-tip="Placement range percentage along Y axis (minY-maxY)" value="20-80"></span><span>x:<input class="templateX" daat-tip="Placement range percentage along X axis (minX-maxX)" value="15-85"></span>
          <span>h:<input class="templateHeight" data-tip="Blob maximum height, use hyphen to get a random number in range" value="40-50"></span>
          <span>n:<input class="templateCount" data-tip="Blobs to add, use hyphen to get a random number in range" value="1-2"></span>
        </div>
      </div>
      <div id="templateBottom">
        <button id="templateRun" data-tip="Apply current template" class="icon-play-circled2"></button>
        <button id="templateUndo" data-tip="Undo the latest action" class="icon-ccw" disabled></button>
        <button id="templateRedo" data-tip="Redo the action" class="icon-cw" disabled></button>
        <button id="templateSave" data-tip="Download the template as a text file" class="icon-download"></button>
        <button id="templateLoad" data-tip="Open previously downloaded template" class="icon-upload"></button>
        <button id="templateMail" onclick="window.open('mailto:maxganiev@yandex.com?Subject=Template%20suggestion', '_blank')" data-tip="Send a template suggestion to Azgaar" class="icon-mail-alt"></button>
      </div>
    </div>

    <div id="imageConverter" class="dialog stable" style="display: none">

      <div id="convertImageButtons">
        <button id="convertImageLoad" data-tip="Load image to convert" class="icon-upload"></button>
        <button id="convertAutoLum" data-tip="Auto-assign colors based on liminosity (good to monochrome images)" class="icon-adjust"></button>
        <button id="convertAutoHue" data-tip="Auto-assign colors based on hue (good to colored images)" class="icon-brush"></button>
        <button id="convertColorsMinus" data-tip="Reduce the number of colors. Minimal number is 3" class="icon-minus-squared"></button>
        <button id="convertColorsPlus" data-tip="Increase the number of colors. Maximum number is 256" class="icon-plus-squared"></button>
        <input id="convertColors" value="12" style="display: none"/>
        <button id="convertComplete" data-tip="Complete the assignment. All unassigned colors will be considered as ocean" class="icon-check"></button>
      </div>

      <div data-tip="Set opacity of the loaded image" style="padding-top: 4px"><i>Overlay opacity:</i>
        <input id="convertOverlay" type="range" min=0 max=1 step=.01 value=0 style="width: 8em">
        <input id="convertOverlayNumber" type="number" min=0 max=1 step=.01 value=0 style="width: 3.5em; border: 1px solid #d4d4d4">
      </div>

      <div data-tip="Select a color below and assign a height value for it" id="colorsSelect" style="display: none">
        <i>Set height: </i><br>
        <div id="colorScheme"></div>
        <span id="colorsSelectValue"></span>
      </div>

      <div data-tip="Select a color to re-assign the height value" id="colorsAssigned" style="display: none">
        <i>Assigned colors: </i><br>
      </div>

      <div data-tip="Select a color to assign a height value" id="colorsUnassigned" style="display: none">
        <i>Unassigned colors: </i><br>
      </div>

    </div>
   
    <div id="perspectivePanel" class="dialog stable" style="display: none">
      <canvas id="perspective" width="480" height="150"></canvas>
    </div>

    <div id="biomesEditor" class="dialog stable" style="display: none">
      <div id="biomesHeader">
        <div style="margin-left: 12px" data-tip="Click to sort alphabetically by biome name" class="sortable alphabetically" data-sortby="name">Biome&nbsp;</div>
        <div style="margin-left: 70px" data-tip="Click to sort by biome habitability" class="sortable" data-sortby="habitability">Habitability&nbsp;</div>
        <div style="margin-left: 8px" data-tip="Click to sort by biome cells count" class="sortable icon-sort-number-down" data-sortby="cells">Cells&nbsp;</div>
        <div style="margin-left: 24px" data-tip="Click to sort by biome area" class="sortable" data-sortby="area">Area&nbsp;</div>
        <div style="margin-left: 17px" data-tip="Click to sort by biome population" class="sortable" data-sortby="population">Population&nbsp;</div>
      </div>

      <div id="biomesBody" class="table" data-type="absolute"></div>

      <div id="biomesFooter" class="totalLine">
        <div data-tip="Number of land biomes" style="margin-left: 12px">Biomes:&nbsp;<span id="biomesFooterBiomes">0</span></div>
        <div data-tip="Total land cells number" style="margin-left: 12px">Cells:&nbsp;<span id="biomesFooterCells">0</span></div>
        <div data-tip="Total land area" style="margin-left: 12px">Land Area:&nbsp;<span id="biomesFooterArea">0</span></div>
        <div data-tip="Total population" style="margin-left: 12px">Population:&nbsp;<span id="biomesFooterPopulation">0</span></div>
      </div>

      <div id="biomesBottom">
        <button id="biomesEditorRefresh" data-tip="Refresh the Editor" class="icon-cw"></button>
        <button id="biomesPercentage" data-tip="Toggle percentage / absolut values views" class="icon-percent"></button>
        <button id="biomesRestore" data-tip="Restore the defaults and re-define biomes based on moisture and temparature" class="icon-history"></button>
        <button id="biomesManually" data-tip="Manually re-assign biomes to not follow the default moisture/temperature pattern" class="icon-brush"></button>
        <div id="biomesManuallyButtons" style="display: none">
          <button id="biomesManuallyApply" data-tip="Apply current assignment" class="icon-check"></button>
          <button id="biomesManuallyCancel" data-tip="Cancel assignment" class="icon-cancel"></button>
          <label data-tip="Set the brush size" class="italic">Brush radius:
            <input id="biomesManuallyBrush" oninput="tip('Brush radius: '+this.value); biomesManuallyBrushNumber.value = this.value" type="range" min="5" max="99" value="15">
            <input id="biomesManuallyBrushNumber" oninput="tip('Brush radius: '+this.value); biomesManuallyBrush.value = this.value" type="number" min="5" max="99" value="15">
          </label>
        </div>
        <button id="biomesRegenerateReliefIcons" data-tip="Regenerate relief icons based on current biomes and elevation" class="icon-tree"></button>
        <button id="biomesExport" data-tip="Save biomes-related data as a text file (.csv)" class="icon-download"></button>
      </div>

    </div>
    
    <div id="statesEditor" class="dialog stable" style="display: none">
      <div id="statesHeader">
        <div style="margin-left: 12px" data-tip="Click to sort alphabetically by state name" class="sortable alphabetically" data-sortby="name">State&nbsp;</div>
        <div style="margin-left: 44px" data-tip="Click to sort alphabetically by capital name" class="sortable alphabetically" data-sortby="capital">Capital&nbsp;</div>
        <div style="margin-left: 24px" data-tip="Click to sort by state dominant culture" class="sortable alphabetically" data-sortby="culture">Culture&nbsp;</div>
        <div style="margin-left: 9px" data-tip="Click to sort by state type" class="sortable alphabetically hidden" data-sortby="type">Type&nbsp;</div>        
        <div style="margin-left: 19px" data-tip="Click to sort by state expansion value" class="sortable hidden" data-sortby="expansionism">Expan.&nbsp;</div>
        <div style="margin-left: 12px" data-tip="Click to sort by state cells count" class="sortable" data-sortby="cells">Cells&nbsp;</div>
        <div style="margin-left: 11px" data-tip="Click to sort by state burgs count" class="sortable" data-sortby="burgs">Burgs&nbsp;</div>
        <div style="margin-left: 20px" data-tip="Click to sort by state area" class="sortable icon-sort-number-down" data-sortby="area">Area&nbsp;</div>
        <div style="margin-left: 18px" data-tip="Click to sort by state population" class="sortable" data-sortby="population">Population&nbsp;</div>
      </div>

      <div id="statesBodySection" class="table" data-type="absolute"></div>

      <div id="statesFooter" class="totalLine">
        <div data-tip="States number" style="margin-left: 5px">States:&nbsp;<span id="statesFooterStates">0</span></div>
        <div data-tip="Total land cells number" style="margin-left: 12px">Cells:&nbsp;<span id="statesFooterCells">0</span></div>
        <div data-tip="Total burgs number" style="margin-left: 12px">Burgs:&nbsp;<span id="statesFooterBurgs">0</span></div>
        <div data-tip="Total land area" style="margin-left: 12px">Land Area:&nbsp;<span id="statesFooterArea">0</span></div>
        <div data-tip="Total population" style="margin-left: 12px">Population:&nbsp;<span id="statesFooterPopulation">0</span></div>
      </div>

      <div id="statesBottom">
        <button id="statesEditorRefresh" data-tip="Refresh the Editor" class="icon-cw"></button>
        <button id="statesPercentage" data-tip="Toggle percentage / absolut values views" class="icon-percent"></button>

        <button id="statesRegenerate" data-tip="Show the regeneratation menu" class="icon-cog-alt"></button>
        <div id="statesRegenerateButtons" style="display: none">
          <button id="statesRegenerateBack" data-tip="Hide the renegotiation menu" class="icon-cog-alt"></button>
          <button id="regenerateStateNames" data-tip="Regenerate state names based on assigned culture" class="icon-retweet"></button>
          <button id="statesRecalculate" data-tip="Recalculate states based on current values of growth-related attributes" class="icon-resize-full-alt"></button>
          <button id="statesJustify" data-tip="Justify states shape - make states less jugged" class="icon-check-empty"></button>
          <button id="statesRandomize" data-tip="Randomize states Expansion value and re-calculate states" class="icon-shuffle"></button>
          <span data-tip="Additional growth rate. Defines how many lands will stay neutral">
            <label class="italic">Growth rate:</label>
            <input id="statesNeutral" oninput="tip('Growth rate: '+this.value); statesNeutralNumber.value = this.value" type="range" min=.1 max=3 step=.05 value=1 style="width:90px">
            <input id="statesNeutralNumber" oninput="tip('Growth rate: '+this.value); statesNeutral.value = this.value" type="number" min=.1 max=3 step=.05 value=1 style="width:42px">
          </span>
          <span data-tip="Uncheck to leave state labels as they are" >
            <input id="adjustLabels" class="checkbox" type="checkbox" checked>
            <label for="adjustLabels" class="checkbox-label"><i>auto-adjust labels placement</i></label>
          </span>
        </div>

        <button id="statesManually" data-tip="Manually re-assign states" class="icon-brush"></button>
        <div id="statesManuallyButtons" style="display: none">
          <button id="statesManuallyApply" data-tip="Apply assignment" class="icon-check"></button>
          <button id="statesManuallyCancel" data-tip="Cancel assignment" class="icon-cancel"></button>
          <label data-tip="Set the brush size" class="italic">Brush size:
            <input id="statesManuallyBrush" oninput="tip('Brush size: '+this.value); statesManuallyBrushNumber.value = this.value" type="range" min=5 max=99 value=15>
            <input id="statesManuallyBrushNumber" oninput="tip('Brush size: '+this.value); statesManuallyBrush.value = this.value" type="number" min=5 max=99 value=15>
          </label>
        </div>

        <button id="statesAdd" data-tip="Add a new state" class="icon-plus"></button>
        <button id="statesExport" data-tip="Save state-related data as a text file (.csv)" class="icon-download"></button>
      </div>
    </div>

    <div id="burgsEditor" class="dialog stable" style="display: none">
      <div id="burgsHeader">
        <div style="margin-left: 12px" data-tip="Click to sort alphabetically by burg name" class="sortable alphabetically" data-sortby="name">Burg&nbsp;</div>
        <div id="burgStateHeader" style="margin-left: 35px" data-tip="Click to sort alphabetically by state name" class="sortable alphabetically" data-sortby="state">State&nbsp;</div>
        <div style="margin-left: 33px" data-tip="Click to sort alphabetically by culture name" class="sortable alphabetically" data-sortby="culture">Culture&nbsp;</div>
        <div style="margin-left: 3px" data-tip="Click to sort by burg population" class="sortable" data-sortby="population">Population&nbsp;</div>
        <div style="margin-left: 12px" data-tip="Click to sort by burg type" class="sortable alphabetically" data-sortby="type">Type&nbsp;</div>
      </div>

      <div id="burgsBody" class="table"></div>

      <div id="burgsFilters" data-tip="Apply a filter">
        <span>State: </span>
        <select id="burgsFilterState" style="width:33%"></select>
        <span>Culture:</span>
        <select id="burgsFilterCulture" style="width:33%"></select>
      </div>

      <div id="burgsFooter" class="totalLine">
        <div data-tip="Burgs displayed" style="margin-left: 4px">Burgs:&nbsp;<span id="burgsFooterBurgs">0</span></div>
        <div data-tip="Average population" style="margin-left: 14px">Average population:&nbsp;<span id="burgsFooterPopulation">0</span></div>
      </div>

      <div id="burgsBottom">
        <button id="burgsEditorRefresh" data-tip="Refresh the Editor" class="icon-cw"></button>
        <button id="regenerateBurgNames" data-tip="Regenerate burg names based on assigned culture" class="icon-retweet"></button>
        <button id="addNewBurg" data-tip="Add a new burg. Hold Shift to add multiple" class="icon-plus"></button>
        <button id="burgsExport" data-tip="Save burgs-related data as a text file (.csv)" class="icon-download"></button>
        <button id="burgNamesImport" data-tip="Import burg names. Source file should be a plain list of names where each name is on a separate line" class="icon-upload"></button>
      </div>
    </div>

    <div id="culturesEditor" class="dialog stable" style="display: none">
      <div id="culturesHeader">
        <div style="margin-left: 12px" data-tip="Click to sort by culture name" class="sortable alphabetically" data-sortby="name">Culture&nbsp;</div>
        <div style="margin-left: 15px" data-tip="Click to sort by culture cells count" class="sortable" data-sortby="cells">Cells&nbsp;</div>
        <div style="margin-left: 12px" data-tip="Click to sort by expansionism" class="sortable" data-sortby="expansionism">Expan.&nbsp;</div>
        <div style="margin-left: 14px" data-tip="Click to sort by type" class="sortable alphabetically" data-sortby="type">Type&nbsp;</div>
        <div style="margin-left: 31px" data-tip="Click to sort by culture area" class="sortable" data-sortby="area">Area&nbsp;</div>
        <div style="margin-left: 17px" data-tip="Click to sort by culture population" class="sortable icon-sort-number-down" data-sortby="population">Population&nbsp;</div>
        <div style="margin-left: 2px" data-tip="Click to sort by culture namesbase" class="sortable" data-sortby="base">Namesbase&nbsp;</div>
      </div>
      <div id="culturesBody" class="table" data-type="absolute"></div>

      <div id="culturesFooter" class="totalLine">
        <div data-tip="Cultures number" style="margin-left: 12px">Cultures:&nbsp;<span id="culturesFooterCultures">0</span></div>
        <div data-tip="Total land cells number" style="margin-left: 12px">Cells:&nbsp;<span id="culturesFooterCells">0</span></div>
        <div data-tip="Total land area" style="margin-left: 12px">Land Area:&nbsp;<span id="culturesFooterArea">0</span></div>
        <div data-tip="Total population" style="margin-left: 12px">Population:&nbsp;<span id="culturesFooterPopulation">0</span></div>
      </div>

      <div id="culturesBottom">
        <button id="culturesEditorRefresh" data-tip="Refresh the Editor" class="icon-cw"></button>
        <button id="culturesPercentage" data-tip="Toggle percentage / absolut values display mode" class="icon-percent"></button>
        <button id="culturesRecalculate" data-tip="Re-calculate cultures based on centers placement, expansion and type" class="icon-resize-full-alt"></button>
        <button id="culturesManually" data-tip="Manually re-assign cultures" class="icon-brush"></button>
        <div id="culturesManuallyButtons" style="display: none">
          <button id="culturesManuallyApply" data-tip="Apply assignment" class="icon-check"></button>
          <button id="culturesManuallyCancel" data-tip="Cancel assignment" class="icon-cancel"></button>
          <label data-tip="Set the brush size" class="italic">Brush size:
            <input id="culturesManuallyBrush" oninput="tip('Brush size: '+this.value); culturesManuallyBrushNumber.value = this.value" type="range" min=5 max=99 value=15>
            <input id="culturesManuallyBrushNumber" oninput="tip('Brush size: '+this.value); culturesManuallyBrush.value = this.value" type="number" min=5 max=99 value=15>
          </label>
        </div>
        <button id="culturesEditNamesBase" data-tip="Edit a database used for names generation" class="icon-list-bullet"></button>
        <button id="culturesAdd" data-tip="Add a new culture" class="icon-plus"></button>
        <button id="culturesExport" data-tip="Download cultures-related data" class="icon-download"></button>
      </div>
    </div>

    <div id="namesbaseEditor" class="dialog stable textual" style="display: none">
      <div id="namesbaseBasesTop">
        <span>Select base: </span>
        <select id="namesbaseSelect" data-tip="Select base to edit" style="width: 12em" value="0"></select>
      </div>

      <div id="namesbaseBody">
        <span>Names data:</span><br>
        <textarea id="namesbaseTextarea" data-base="0" cols=70 rows=12 data-tip="Names data: a comma separated list of source names used for names generation" placeholder="Provide a names data: a comma separated list of source names" autocorrect="off" spellcheck="false"></textarea>
        <br>
        <div>
          <span>Name: </span>
          <input id="namesbaseName" data-tip="Type to change a base name" placeholder="Base name" autocorrect="off" spellcheck="false" style="width:12em"/>
          <span>Length: </span>
          <input id="namesbaseMin" data-tip="Recommended minimal name length" type="number" min=2 max=100>
          <input id="namesbaseMax" data-tip="Recommended maximal name length" type="number" min=2 value=10>
          <span>Double: </span>
          <input id="namesbaseDouble" data-tip="Populate with letters that can used twice in a row" autocorrect="off" spellcheck="false" style="width:5em">
          <span>Multi: </span>
          <input id="namesbaseMulti" data-tip="Multi-word names rate. 1 - allow all multi-word names, 0 - all names should spelled as a single word" type="number" min=0 max=1 step=.1 value=0 style="width:3.6em">
        </div>
        <fieldset>
          <legend>Generated examples: </legend>
          <div id="namesbaseExamples" data-tip="Examples. Click to re-generate"></div>
        </fieldset>
      </div>
      
      <div id="namesbaseBottom">
        <button id="namesbaseUpdateExamples" data-tip="Re-generate examples based on provided data" class="icon-arrows-cw"></button>
        <button id="namesbaseAdd" data-tip="Add new namesbase" class="icon-plus"></button>
        <button id="namesbaseDefault" data-tip="Restore default namesbase" class="icon-cancel"></button>
        <button id="namesbaseDownload" data-tip="Download namesbase to PC" class="icon-download"></button>
        <button id="namesbaseUpload" data-tip="Upload a namesbase from PC" class="icon-upload"></button>
      </div>
    </div>

    <div id="legendEditor" class="dialog stable textual" style="display: none">
      <div>
        <span>Select object: </span>
        <select id="legendSelect" data-tip="Select object" style="width: 120px;"></select>
        <span>Object name: </span>
        <input id="legendName" data-tip="Type to change object name" autocorrect="off" spellcheck="false" style="width: 120px;">
      </div>
      <div>
        <span>Legend:</span><br>
        <textarea id="legendText" cols="70" rows="7" data-tip="Legend is a free text note, enter any object description you like" placeholder="Legend is a free text note, enter any object description you like"></textarea>
      </div>
      <div>
        <button id="legendFocus" data-tip="Focus map on selected object" class="icon-target"></button>
        <button id="legendDownload" data-tip="Download legends to PC" class="icon-download"></button>
        <button id="legendUpload" data-tip="Upload legends from PC" class="icon-upload"></button>
        <button id="legendRemove" data-tip="Remove this note" class="icon-trash"></button>
      </div>
    </div>

    <div id="unitsEditor" class="dialog stable" style="display: none">
      <div id="unitsBody" style="margin-left:1.1em">
        <div class="unitsHeader" style="margin-top:.4em">
          <span class="icon-map-signs"></span>
          <div>Distance:</div>
        </div>

        <div data-tip="Select a distance unit or provide a custom name">
          <div>Distance unit: </div>
          <select id="distanceUnit">
            <option value="mi" selected>Mile (mi)</option>
            <option value="km">Kilometer (km)</option>
            <option value="lg">League (lg)</option>
            <option value="vr">Versta (vr)</option>
            <option value="custom_name">Custom name</option>
          </select>
        </div>

        <div data-tip="Select how many distance units are in one pixel">
          <div>1 map pixel =</div>
          <input id="distanceScaleSlider" type="range" min=.1 max=10 step=.1 value=3>
          <input id="distanceScale" type="number" min=.1 max=10 step=.1 step=.1 value=3 data-value=3>
          <span id="distanceUnitOutput">mi</span>
        </div>

        <div data-tip='Area unit name, type "square" to add ² to the distance unit'>
          <div>Area unit:</div>
          <input id="areaUnit" type="text" value="square">
        </div>

        <div class="unitsHeader">
          <span class="icon-signal"></span>
          <div>Altitude:</div>
        </div>

        <div data-tip="Select an altitude unit or provide a custom name">
          <div>Height unit:</div>
          <select id="heightUnit">
            <option value="ft" selected>Feet (ft)</option>
            <option value="m">Meters (m)</option>
            <option value="f">Fathoms (f)</option>
            <option value="custom_name">Custom name</option>
          </select>
        </div>

        <div data-tip="Set height exponent, i.e. a value showing altitude change sharpness">
          <div>Exponent:</div>
          <input id="heightExponentSlider" type="range" min=1.5 max=2 value=1.73 step=.01>
          <input id="heightExponent" type="number" min=1.5 max=2 value=1.73 step=.01>
        </div>

        <div class="unitsHeader" data-tip="Select Temperature scale">
          <span class="icon-asterisk"></span>
          <div>Temparature:</div>
        </div>

        <div>
          <div>Temperature scale: </div>
          <select id="temperatureScale">
            <option value="°C" selected>degree Celsius (°C)</option>
            <option value="°F">degree Fahrenheit (°F)</option>
            <option value="K">Kelvin (K)</option>
            <option value="°R">degree Rankine (°R)</option>
            <option value="°De">degree Delisle (°De)</option>
            <option value="°N">degree Newton (°N)</option>
            <option value="°Ré">degree Réaumur (°Ré)</option>
            <option value="°Rø">degree Rømer (°Rø)</option>
          </select>
        </div>

        <div class="unitsHeader">
          <span class="icon-minus"></span>
          <div>Scale bar:</div>
        </div>

        <div data-tip="Set scale bar size">
          <div>Bar size:</div>
          <input id="barSizeSlider" type="range" min=.5 max=5 value=2 step=.1>
          <input id="barSize" type="number" min=.5 max=5 value=2 step=.1>
        </div>

        <div data-tip="Type scale bar label, leave blank to hide label">
          <div>Bar label:</div>
          <input id="barLabel" type="text" placeholder="hidden" value="">
        </div>

        <div data-tip="Set background for Scale bar">
          <div>Bar background:</div>
          <input id="barBackOpacity" type="range" min=0 max=1 value=.2 step=.01>
          <input id="barBackColor" type="color" value="#ffffff">
        </div>

        <div data-tip="Set position of the Scale bar bottom right corner in percents">
          <div>Bar position:</div>
          <i>x:</i><input id="barPosX" type="number" min=0 max=100 step=.1 value=99>
          <i>y:</i><input id="barPosY" type="number" min=0 max=100 step=.1 value=99>
        </div>

        <div class="unitsHeader">
          <span class="icon-male"></span>
          <div>Population:</div>
        </div>

        <div data-tip="Set how many people are in one population point">
          <div>1 population point =</div>
          <input id="populationRateSlider" type="range" min=10 max=9990 step=10 value=1000>
          <input id="populationRate" type="number" min=10 max=9990 step=10 value=1000 data-value=1000>
        </div>

        <div data-tip="Set ubranization rate: burgs population relative to all population">
          <div>Urbanization rate:</div>
          <input id="urbanizationSlider" type="range" min=.01 max=5 step=.01 value=1>
          <input id="urbanization" type="number" min=.01 max=5 step=.01 value=1 data-value=1>
        </div>
      </div>

      <div id="unitsBottom">
        <button id="addLinearRuler" data-tip="Click to place a linear measurer (ruler)" class="icon-ruler"></button>
        <button id="addOpisometer" data-tip="Drag to measure a curve length (opisometer)" class="icon-curve"></button>
        <button id="addPlanimeter" data-tip="Drag to measure a polygon area (planimeter)" class="icon-area"></button>
        <button id="removeRulers" data-tip="Remove all rulers from the map. Click on ruler label to remove a ruler separately" class="icon-trash"></button>
      </div>
    </div>

    <div id="alert" style="display: none" class="dialog">
      <p id="alertMessage">Warning!</p>
    </div>

    <div id="alert2" style="display: none">
      <p id="alertMessage2">Warning!</p>
    </div>
  </div>

  <div id="map-dragged" class="shadowed" style="display: none">
    <p>Drop a .map file to open</p>
  </div>

  <div id="legend">
    <div id="legendHeader"></div>
    <div id="legendBody"></div>
  </div>

  <div id="tooltip" style="opacity:0" data-main="Сlick the arrow button for options. Zoom in to see the map in details">Сlick the arrow button for options. Zoom in to see the map in details</div>

  <div id="fileInputs" class="hidden">
    <input type="file" accept=".map" id="mapToLoad">
    <input type="file" accept=".txt,.csv" id="burgsListToLoad">
    <input type="file" accept=".txt" id="legendsToLoad">
    <input type="file" accept="image/*" id="imageToLoad">
    <input type="file" accept=".txt" id="templateToLoad">
    <input type="file" accept=".txt" id="namesbaseToLoad">
  </div>
  
  <script src="libs/jquery-3.1.1.min.js"></script>
  <script src="libs/d3.min.js"></script>
  <script src="libs/priority-queue.min.js"></script>
  <script src="libs/delaunator.min.js"></script>
  <script src="modules/utils.js"></script>
  <script src="modules/voronoi.js"></script>
  <script src="modules/heightmap-generator.js"></script>
  <script src="modules/ocean-layers.js"></script>
  <script src="modules/river-generator.js"></script>
  <script src="modules/names-generator.js"></script>
  <script src="modules/cultures-generator.js"></script>
  <script src="modules/burgs-and-states.js"></script>
  <script src="modules/routes-generator.js"></script>
  <script src="libs/polylabel.min.js"></script>  
  <script src="libs/jquery-ui.min.js"></script>
  <script src="libs/seedrandom.min.js"></script>

  <script defer src="modules/ui/general.js"></script>
  <script defer src="modules/ui/options.js"></script>
  <script defer src="modules/ui/measurers.js"></script>
  <script defer src="main.js?version=0.70.00a"></script>
  <script defer src="modules/relief-icons.js"></script>
  <script defer src="modules/ui/layers.js"></script>
  <script defer src="modules/ui/tools.js"></script>
  <script defer src="modules/ui/world-configurator.js"></script>
  <script defer src="modules/ui/heightmap-editor.js"></script>
  <script defer src="modules/ui/states-editor.js"></script>
  <script defer src="modules/ui/burgs-editor.js"></script>
  <script defer src="modules/ui/biomes-editor.js"></script>
  <script defer src="modules/ui/cultures-editor.js"></script>
  <script defer src="modules/ui/namesbase-editor.js"></script>
  <script defer src="modules/ui/routes-editor.js"></script>
  <script defer src="modules/ui/labels-editor.js"></script>
  <script defer src="modules/ui/rivers-editor.js"></script>
  <script defer src="modules/ui/relief-editor.js"></script>
  <script defer src="modules/ui/markers-editor.js"></script>
  <script defer src="modules/ui/burg-editor.js"></script>
  <script defer src="modules/ui/burgs-editor.js"></script>
  <script defer src="modules/ui/units-editor.js"></script>
  <script defer src="modules/ui/legends-editor.js"></script>
  <script defer src="modules/ui/editors.js"></script>
  <script defer src="modules/save-and-load.js"></script>
  <script defer src="libs/quantize.min.js"></script>
  <script defer src="libs/jquery.ui.touch-punch.min.js"></script>
</body>
